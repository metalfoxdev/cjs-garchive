var Config={gameID:"0hh1",preventExternals:!1,disableDonation:!0,unlimited:!0,daily:!0,colorTheme:!0,languageSwitch:!0,skipGeoIP:!0,fastIntro:!1,playLabelPlay:!1,playLabelFree:!0,newLabel:!1,showShareEvery:5,GoogleAnalytics:"UA-45298460-4",defaultLanguage:"en"};!function(s,l){function e(e,t,n){function i(){for(var e=r.g(m),t=w,n=0;e<y;)e=(e+n)*p,t*=p,n=r.g(1);for(;b<=e;)e/=2,t/=2,n>>>=1;return(e+n)/t}var a=[],o=c(function e(t,n){var i,a=[],o=typeof t;if(n&&"object"==o)for(i in t)try{a.push(e(t[i],n-1))}catch(t){}return a.length?a:"string"==o?t:t+"\0"}((t=1==t?{entropy:!0}:t||{}).entropy?[e,d(s)]:null==e?function(){try{var e;return f&&(e=f.randomBytes)?e=e(p):(e=new Uint8Array(p),(g.crypto||g.msCrypto).getRandomValues(e)),d(e)}catch(e){var t=g.navigator,n=t&&t.plugins;return[+new Date,g,n,g.screen,d(s)]}}():e,3),a),r=new u(a);return i.int32=function(){return 0|r.g(4)},i.quick=function(){return r.g(4)/4294967296},i.double=i,c(d(r.S),s),(t.pass||n||function(e,t,n,i){return i&&(i.S&&h(i,r),e.state=function(){return h(r,{})}),n?(l[v]=e,t):e})(i,o,"global"in t?t.global:this==l,t.state)}function u(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);i<p;)o[i]=i++;for(i=0;i<p;i++)o[i]=o[a=C&a+e[i%n]+(t=o[i])],o[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,o=r.S;e--;)t=o[i=C&i+1],n=n*p+o[C&(o[i]=o[a=C&a+t])+(o[a]=t)];return r.i=i,r.j=a,n})(p)}function h(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function c(e,t){for(var n,i=e+"",a=0;a<i.length;)t[C&a]=C&(n^=19*t[C&a])+i.charCodeAt(a++);return d(t)}function d(e){return String.fromCharCode.apply(0,e)}var f,g=this,p=256,m=6,v="random",w=l.pow(p,m),y=l.pow(2,52),b=2*y,C=p-1;if(l["seed"+v]=e,c(l.random(),s),"object"==typeof module&&module.exports){module.exports=e;try{f=require("crypto")}catch(s){}}else"function"==typeof define&&define.amd&&define(function(){return e})}([],Math);var app={fontsLoaded:function(){app.fontsLoaded=!0},deviceReady:!(window.isWebApp=!0),started:!1,initialize:function(){this.bindEvents()},bindEvents:function(){document.addEventListener("deviceready",this.onDeviceReady,!1)},onDeviceReady:function(){setTimeout(function(){navigator&&navigator.splashscreen&&navigator.splashscreen.hide()},100),app.deviceReady=!0,app.startTheGameIfWeCan(),PlayCenter.autoSignIn()},receivedEvent:function(e){},startTheGameIfWeCan:function(){if(app.started)return!1;app.started=!0,Game.init(),window.Config&&Config.startGame?Config.startGame():Game.start()}};function Utility(){var e,t={isDoubleTapBug:function(e,t){if($.browser.android){if("touchstart"!=e.type&&"touchstart"==$(t).data("lastTouch"))return e.stopImmediatePropagation(),e.preventDefault(),!0;-1!=e.type.indexOf("touch")&&$(t).data("lastTouch",!0)}return!1},getEventNames:function(e){switch(e){case"start":return $.browser.ios||$.browser.android?"touchstart":"touchstart mousedown";case"move":return $.browser.ios||$.browser.android?"touchmove":"touchmove mousemove";case"end":return $.browser.ios||$.browser.android?"touchend":"touchend mouseup";default:return e}},touchEnded:function(){touchEndedSinceTap=!0},isTouch:function(){return"ontouchstart"in document.documentElement},padLeft:function(e,t,n){return Array(t-String(e).length+1).join(n||"0")+e},trim:function(e){return e.replace(/^\s*|\s*$/gi,"")},between:function(e,t,n){return n?+(Math.random()*(t-e)+e).toFixed(n):Math.floor(Math.random()*(t-e+1)+e)},shuffleSimple:function(e){return e.sort(function(){return.5-Math.random()}),e},shuffle:function(e){for(var t=0;t<e.length-1;t++){var n=t+Math.floor(Math.random()*(e.length-t)),i=e[n];e[n]=e[t],e[t]=i}return e},index:function(e,t){var n,i=0;for(n in e){if(i==t)return e[n];i++}},areArraysEqual:function(e,t){return!(!e||!t)&&e.join("|")===t.join("|")},count:function(e){var t,n=0;for(t in e)n++;return n},eat:function(e){return e.preventDefault(),e.stopPropagation(),!1},pick:function(e){var t=e;if(e.constructor==Object)for(var n in t=[],e)t.push(n);var i=Utils.between(0,t.length-1);return 0==t.length?null:t[i]},draw:function(e,t){var n=e;if(e.constructor==Object)for(var i in n=[],e)n.push(i);if(0==n.length)return null;var a=Utils.between(0,n.length-1);if(null!=t){for(var o=!1,r=0;r<n.length;r++)if(n[r]==t){a=r,o=!0;break}if(!o)return null}var s=n[a];return n.splice(a,1),s},removeFromArray:function(e,t){if(0==e.length)return null;for(var n=!1,i=-1,a=0;a<e.length;a++)if(e[a]==t){i=a,n=!0;break}if(!n)return null;var o=e[i];return e.splice(i,1),o},toArray:function(e){var t,n=[];for(t in e)n.push(t);return n},fillArray:function(e,t,n){n=n||1;for(var i=new Array,a=0;a<n;a++)for(var o=e;o<=t;o++)i.push(o);return i},contains:function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1},setCookie:function(e,t,n){var i,a;a=n?((i=new Date).setTime(i.getTime()+24*n*60*60*1e3),"; expires="+i.toGMTString()):"",document.cookie=e+"="+t+a+"; path=/"},getCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null},clearCookie:function(e){this.setCookie(e,"",-1)},cssVendor:function(e,t,n){if("opacity"===t)$.browser.ie?e.css("-ms-filter",'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+Math.round(100*n)+')"'):e.css(t,n);else for(var i=["","-webkit-","-moz-","-o-","-ms-"],a=0;a<i.length;a++)e.css(i[a]+t,n)},createCSS:function(e,t){t=t||"tempcss",$("#"+t).remove();var n='<style id="'+t+'">'+e+"</style>";!window.isWebApp&&window.MSApp&&window.MSApp.execUnsafeLocalFunction?MSApp.execUnsafeLocalFunction(function(){$("head").first().append($(n))}):$("head").first().append($(n))},setColorScheme:function(e){var t=Colors.getComplementary(e),n=".odd  .tile-1 .inner { background-color: "+e+"; }.even .tile-1 .inner { background-color: "+Colors.luminateHex(e,.1)+"; }.odd  .tile-2 .inner { background-color: "+t+"; }.even .tile-2 .inner { background-color: "+Colors.luminateHex(t,.1)+"; }";Utils.createCSS(n)}};for(e in t)this[e]=t[e]}app.initialize();var o,Utils=new Utility,Colors=new function(){function a(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function o(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function r(e,t,n){return"object"==typeof e&&(t=e.g,n=e.b,e=e.r),"#"+o(e)+o(t)+o(n)}function s(e){var t,n,i,a,o,r;return hsv=new Object,max=(t=e.r,n=e.g,i=e.b,n<t?i<t?t:i:i<n?n:i),dif=max-(a=e.r,o=e.g,r=e.b,a<o?a<r?a:r:o<r?o:r),hsv.saturation=0==max?0:100*dif/max,0==hsv.saturation?hsv.hue=0:e.r==max?hsv.hue=60*(e.g-e.b)/dif:e.g==max?hsv.hue=120+60*(e.b-e.r)/dif:e.b==max&&(hsv.hue=240+60*(e.r-e.g)/dif),hsv.hue<0&&(hsv.hue+=360),hsv.value=Math.round(100*max/255),hsv.hue=Math.round(hsv.hue),hsv.saturation=Math.round(hsv.saturation),hsv}function l(e){var n=new Object;if(0==e.saturation)n.r=n.g=n.b=Math.round(2.55*e.value);else{switch(e.hue/=60,e.saturation/=100,e.value/=100,i=Math.floor(e.hue),f=e.hue-i,p=e.value*(1-e.saturation),q=e.value*(1-e.saturation*f),t=e.value*(1-e.saturation*(1-f)),i){case 0:n.r=e.value,n.g=t,n.b=p;break;case 1:n.r=q,n.g=e.value,n.b=p;break;case 2:n.r=p,n.g=e.value,n.b=t;break;case 3:n.r=p,n.g=q,n.b=e.value;break;case 4:n.r=t,n.g=p,n.b=e.value;break;default:n.r=e.value,n.g=p,n.b=q}n.r=Math.round(255*n.r),n.g=Math.round(255*n.g),n.b=Math.round(255*n.b)}return n}this.hexToRgb=a,this.componentToHex=o,this.rgbToHex=r,this.colorToRgb=function(e){return isNaN(e)||(e=PALETTE[e]),a(e)},this.colorsMatch=function(e,t){return e.r==t.r&&(e.g==t.g&&e.b==t.b)},this.getComplementary=function(e){var t="string"==typeof e?!0:!1;t&&(e=a(e));var n=s(e);n.hue=function(e,t){e+=t;for(;360<=e;)e-=360;for(;e<0;)e+=360;return e}(n.hue,180);var i=l(n);return t&&(i=r(i)),i},this.rgbToHsv=s,this.hsvToRgb=l,this.luminateHex=function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;for(var n,i="#",a=0;a<3;a++)n=parseInt(e.substr(2*a,2),16),i+=("00"+(n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16))).substr(n.length);return i}};for(o in window.$=window.$||{},$.browser={},$.browser.chrome=/chrome/.test(navigator.userAgent.toLowerCase()),$.browser.android=/android/.test(navigator.userAgent.toLowerCase()),$.browser.safari=/safari/.test(navigator.userAgent.toLowerCase()),$.browser.ipad=/ipad/.test(navigator.userAgent.toLowerCase()),$.browser.iphone=/iphone|ipod/.test(navigator.userAgent.toLowerCase()),$.browser.ios=/ipad|iphone|ipod/.test(navigator.userAgent.toLowerCase()),$.browser.ie=/msie/.test(navigator.userAgent.toLowerCase()),$.browser.chromeWebStore=!(!window.chrome||!window.chrome.storage),$.browser)$.browser[o]&&$("html").addClass(o);function opposite(e){switch(e){case Directions.Right:return Directions.Left;case Directions.Left:return Directions.Right;case Directions.Up:return Directions.Down;case Directions.Down:return Directions.Up}return null}function generateUUID(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:3&t|8).toString(16)})}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(function(){e(+new Date)},10)},window.cancelAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||function(){};var HintType={None:"None",RowsMustBeUnique:"RowsMustBeUnique",ColsMustBeUnique:"ColsMustBeUnique",RowMustBeBalanced:"RowMustBeBalanced",ColMustBeBalanced:"ColMustBeBalanced",MaxTwoRed:"MaxTwoRed",MaxTwoBlue:"MaxTwoBlue",SinglePossibleRowCombo:"SinglePossibleRowCombo",SinglePossibleColCombo:"SinglePossibleColCombo",Error:"Error",Errors:"Errors",GameContinued:"GameContinued",TimeTrialShown:"TimeTrialShown"},Directions={Left:"Left",Right:"Right",Up:"Up",Down:"Down"},Game=new function(){var c,o,l,u,a,r,t="#debug"==document.location.hash,n=!1,h=window.isWebApp,d=window.isWebApp,i=!1,f=!1,s=void 0,g=0,p=null,m=!0,v={},w=!1,y=!1,b=t,C=!1,k=0,S=[4,6,8,10,12],T=0,_=null,x=0,P=[],A=!0,D=!1,I=!1,z=[],M=!1,R=!1,L=!1,E=!1,G=!0,B=!1,j=0,N="",U=0,O=0,q=0,F=0,V=0,H="#0hh1 I'm playing 0h h1 and I think you should too! https://0hh1.com (or get the App!)";function W(){Ce(),setTimeout(function(){var e;window.isWebApp?(document.body.focus(),navigator.clipboard.writeText(H),e=Language.get("copiedToClipboard"),setTimeout(function(){alert(e)},0)):setTimeout(function(){APP_BRIDGE.Sharing.share(H),PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.how_very_social_of_you)},0)},0)}function J(){$(".tile").css({width:"auto",height:"auto"});var e,t={iphone4:{width:320,height:480},iphone5:{width:320,height:568},nexus5:{width:360,height:640},nexus7:{width:604,height:966},oneplus6:{width:270,height:570},s9:{width:360,height:740},pocophone:{width:1080,height:2246}};for(e in t)t[e].id=e;var n,i={width:$("#feelsize").width(),height:$("#feelsize").height()},a=i.width/i.height,o=t.iphone4,r=999;for(n in t){var s=t[n],l=s.width/s.height,u=Math.abs(a-l);u<r&&(o=t[n],r=u)}var h,c=i.width/i.height<a,d={width:Math.floor(c?i.width:i.height/o.height*o.width),height:Math.floor(c?i.width/o.width*o.height:i.height)};d.width>i.width&&(h=Math.floor(i.width/d.width*100)/100,d.width*=h),d.width==i.width&&(h=.96,d.width*=h),$("#container").css({width:d.width+"px",height:d.height+"px"});var f=d.width;$("h1").css("font-size",Math.round(.24*f)+"px"),$("h2").css("font-size",Math.round(.18*f)+"px"),$("h3").css("font-size",Math.round(.15*f)+"px"),$("p").css("font-size",Math.round(.07*f)+"px"),$(".by").css("font-size",Math.round(.05*f)+"px"),$("#menu h2").css("font-size",Math.round(.24*f)+"px"),$("#menu p").css("font-size",Math.round(.1*f)+"px"),$("#menu p").css("padding",Math.round(.05*f)+"px 0"),$("#menu p").css("line-height",Math.round(.08*f)+"px"),$("#menu p .multiline").css("line-height",Math.round(.12*f)+"px");var g=Math.round(.06*f);$("#score").css({"font-size":g+"px","line-height":.85*g+"px"}),$("p.small").css("font-size",Math.round(.04*f)+"px");var p=Math.floor(.06875*f);$(".icon").css({width:p,height:p,marginLeft:.7*p,marginRight:.7*p}),$(".board table").each(function(e,t){var n,i,a,o=$(t),r=o.attr("data-grid"),s=o.width(),l=o.find("tr").first().children("td").length,u=Math.floor(s/l);u&&(n=.85,Themes&&1<Themes.theme&&(n=.89),o.find(".tile").css({width:u+"px",height:u+"px","line-height":Math.round(u*n)+"px","font-size":Math.round(.5*u)+"px"}),a="#"+r+" .tile .inner { border-radius: "+(i=Math.round(.1*u))+"px; }#"+r+" .tile-1 .inner:after, #"+r+" .tile-2 .inner:after { border-radius: "+i+"px; }",Utils.createCSS(a,r+"radius"),Utils.createCSS(".tile.marked .inner { border-width: "+Math.floor(u/24)+"px }","tileSize"))}),$("#digits").width($("#titlegrid table").width()).height($("#titlegrid table").height()),$("#digits").css({"line-height":Math.round(.92*$("#titlegrid table").height())+"px","font-size":.5*$("#titlegrid table").height()+"px"});var m=Math.floor($("#container").height()/2-$("#board").height()/2);$("#hintMsg").height(m+"px"),$(".digit").css("width",$("#hiddendigit").width()+"px"),window.Themes&&Themes.resize(d.width,d.height)}function Q(){I=D=!(A=!0),$(".screen").hide().removeClass("show"),$("#title").show(),setTimeout(function(){$("#title").addClass("show")},0)}function Y(){I=A=!1,$(".screen").hide().removeClass("show"),$("#game").show(),setTimeout(function(){$("#game").addClass("show")},0),J(),_&&!_.isTutorial&&($("#bar [data-action]").show(),$('#bar [data-action="playcenter"]').hide(),$('#bar [data-action="continue"]').hide(),$('#bar [data-action="achievements"]').hide(),$('#bar [data-action="leaderboards"]').hide(),$('#tweeturl, [data-action="apps"]').hide()),_&&_.isTutorial&&($("#bar [data-action]").hide(),$('#bar [data-action="back"]').show(),$('#bar [data-action="help"]').show(),$('#bar [data-action="about"]').show())}function K(){if(Config.skipMenu)return he("play-daily");I=D=!(A=!0),be(),clearTimeout(r),$("#playcenter").removeClass("spin"),$(".screen").hide().removeClass("show"),$("#menu").show(),$("#bar").show(),$("#bar [data-action]").hide(),PlayCenter.enabled&&$('#bar [data-action="playcenter"]').show(),ve(function(e){$("#scorenr").html(e)}),$("#gamesplayednr").html(me()),setTimeout(function(){$("#menu").addClass("show")},0),J()}function X(){I=!(A=!1),$(".screen").hide().removeClass("show"),$("#about").show(),$("#bar [data-action]").hide(),setTimeout(function(){$("#about").addClass("show")},0),J()}function Z(){A=!(I=!0),$(".screen").hide().removeClass("show"),$("#apps").show(),setTimeout(function(){$("#apps").addClass("show")},0),J()}function ee(){A=!(I=!0),$(".screen").hide().removeClass("show"),$("#games").show(),setTimeout(function(){$("#games").addClass("show")},0),J()}function te(){if(g)return ne(g),0;Config.skipMenu&&$('[data-action="back"]').hide(),A=I=D=!1,Y(),f?$("#boardsize").html("<span>"+ze()+"</span>"):(window.Config||{}).playLabelFree?$("#boardsize").html("<span>"+Language.get("Free play")+"</span>"):$("#boardsize").html("<span>"+Language.get("Play")+"</span>"),$("#chooseSize").addClass("show"),Ee(),$("#menugrid").removeClass("hidden"),$("#board").addClass("hidden"),$("#bar [data-action]").hide(),Config.skipMenu||$('#bar [data-action="back"]').show(),PlayCenter.isSignedIn&&$('[data-action="achievements"],[data-action="leaderboards"]').show(),L&&!_.isTutorial&&$('[data-action="continue"]').show().addClass("subtleHintOnce"),$("#board").addClass("hidden"),$("#score").show(),setTimeout(function(){c&&c.clear(),$("#score").addClass("show")},0)}function ne(i){A=!1,$("#game").removeClass("show"),A=!1,$(".screen").hide().removeClass("show"),$("#loading").show(),setTimeout(function(){$("#loading").addClass("show")},0),J(),setTimeout(function(){var e;f?(e=(Config.seedPrefix||"")+Le()+"-"+n,Math.seedrandom(e)):Math.seedrandom();var t=!!f,n=Levels.getSize(i,t);ie(n)},100)}function ie(e,t){if(!isNaN(e)&&0<e)return ne(e);if(A=!1,!e||!e.size||!e.full)throw"no proper puzzle object received";be(),window.STOPPED||(y=!1,$("#undo").closest(".iconcon").css("display","inline-block"),$("#menugrid").addClass("hidden"),$("#board").removeClass("hidden"),$("#chooseSize").removeClass("show"),$("#score").removeClass("show").hide(),$('#bar [data-action="help"]').removeClass("hidden wiggle"),$('#bar [data-action="help"]').removeClass("subtleHint").css("display","inline-block"),$("#boardsize").html("<span>"+e.size+" x "+e.size+"</span>"),c=new Grid(e.size,e.size),T=e.size,G=L=D=!(I=!1),F=q=O=0,c.load(e.empty,e.full),c.each(function(){this.value=this.value,0<this.value&&(this.system=!0)}),c.state.save("empty"),_=e,c.hint.active=!0,c.activateDomRenderer(),c.render(),R=M=!(z=[]),V=0,t||(j=new Date),n&&j.setSeconds(j.getSeconds()-e.size*e.size*5),clearTimeout(U),oe(e.size),re(),Ie(!0),e.isTutorial?$("#game").addClass("isTutorial"):$("#game").removeClass("isTutorial"),i&&!e.isTutorial?ae(!0,!0):ae(!1,!0),setTimeout(function(){Y(),Se()},0))}function ae(e,t){var n;i=null!=e?e:!i,t||Storage.setDataValue("showTimeTrial",i),D?$("#time").show():$("#time").hide(),i?($("#time").removeClass("hidden"),t||$("#toggleTimeTrialValue").html('<text data-text-id="Yes">'+Language.get("Yes")+"</text>"),D&&(n=oe(_.size),null==e&&c.hint.show(HintType.TimeTrialShown,n))):($("#time").addClass("hidden"),t||$("#toggleTimeTrialValue").html('<text data-text-id="No">'+Language.get("No")+"</text>"),D&&(null==e&&c.hint.hide(),$("#boardsize").html("<span>"+_.size+" x "+_.size+"</span>")))}function oe(e){var t=Storage.getDataValue("bestTimeSize"+e,60*e);if(!t||0===t||60*e<t)return!1;var n=1e3*t,i=parseInt(n/1e3%60),a=parseInt(n/6e4%60),o=parseInt(n/36e5%24),r="";return 0<o&&(r=r+o+":"),r=r+(a=0<o&&a<10?"0"+a:a)+":",r+=i=i<10?"0"+i:i,$("#boardsize span").text(r),r}function re(){var e=new Date-j,t=parseInt(e/1e3%60),n=parseInt(e/6e4%60),i=parseInt(e/36e5%24);O=parseInt(e/1e3),n=n<10?"0"+n:n,t=t<10?"0"+t:t,N="",0<i&&(N=N+i+":"),N=N+(n+="")+":",N+=t+="",$("#minutes-l").text(n.split("")[0]),$("#minutes-r").text(n.split("")[1]),$("#seconds-l").text(t.split("")[0]),$("#seconds-r").text(t.split("")[1]),R||(U=setTimeout(re,1e3))}function e(){clearTimeout(U),ve(function(e){var t,n,i=!1;f&&((t=Storage.getDataValue("today-progress",{}))[n=_.size]?i=!0:(Storage.setDataValue("today-progress",t),t[n]=!0,Storage.setDataValue("today-progress",t)),Ee());var r=+e,s=r;0==i&&(s=we(c.width*c.height,e)),$("#scorenr").html(s),$("#gamesplayednr").html(me()),L=!1,c.unmark(),c.hint.hide(),c.hint.active=!1,G=!1,Se();var a=function(){var e=Language.get("ojoos");P.length||(P=Utils.shuffle(e.slice(0)));return Utils.draw(P)}()+"!";$("#boardsize").html("<span>"+a+"</span>"),c.each(function(){this.system=!0}),$("#bar [data-action]").hide(),$("#donate").hide(),0==Storage.getDataValue("donated",!1)&&$("#donate").show(),Storage.levelCompleted(_.size,s,O,_.isTutorial,q,F),u=setTimeout(function(){$("#grid").addClass("completed"),o=setTimeout(function(){$("#board").addClass("hidden"),l=setTimeout(function(){if(D=!(R=!0),g&&!_.isTutorial)return Config.completeGame?Config.completeGame({puzzle:_,score:s}):ne(g);!g&&!_.isTutorial&&Config.pauseAfterSize&&Config.pauseGame&&Config.pauseGame({puzzle:_,score:s});var t,n,i,e=me(),a=Config.showShareEvery||0;if(a&&0<e&&e%a==0&&$("#game").toggleClass("show-share"),$("#menugrid").removeClass("hidden"),$("#score").show(),PlayCenter.isSignedIn&&$('[data-action="achievements"],[data-action="leaderboards"]').show(),y||r<s&&(i=500/((n=s)-(t=r)),function e(){$("#scorenr").html(t),t<n&&t++,we.TOH=setTimeout(e,i)}(),$("#gamesplayednr").html(me()),d&&$('[data-action="apps"]').show(),h&&!_.isTutorial&&(Ce(),$("#tweeturl").show())),_.isTutorial){var o=f?ze():Language.get("Free play");if($("#boardsize").html("<span>"+o+"</span>"),$("#chooseSize").addClass("show"),g)return ne(g)}Config.skipMenu||$('#bar [data-action="back"]').show(),$("#time").hide(),$("#promo").show(),setTimeout(function(){$("#score").addClass("show"),$("#grid").removeClass("completed"),setTimeout(function(){$("#tweeturl").addClass("subtleHintOnce")},1e3)},0)},50)},2e3)},1200),_.isTutorial||Levels.finishedSize(c.width)})}function se(){Storage.gameQuitted(),R=!0,be(),clearTimeout(U),$("#time").hide(),c&&(c.unmark(),c.hint.hide(),c.hint.active=!1,c.each(function(){this.system=!0})),te()}function le(e){if(Utils.isDoubleTapBug(e,this))return!1;var t=$(e.target).closest("td"),n=+t.attr("data-x"),i=+t.attr("data-y"),a=c.tile(n,i),o=3===e.which;if(a.system){var r=t.find(".tile");return r.addClass("error"),(E?Se:ke)(),setTimeout(function(){r.removeClass("error")},500),!1}if(clearTimeout(x),Tutorial.active)return Tutorial.tapTile(a),!1;c&&c.hint&&c.hint.clear();var s,l,u,h={x:a.x,y:a.y,oldValue:a.value,time:new Date};return z.length?(s=z[z.length-1],l=c.tile(s.x,s.y),u=s.time,(l.id!=a.id||500<new Date-u)&&z.push(h)):z.push(h),o?a.isEmpty?a.value=2:2==a.value?a.value=1:a.clear():a.isEmpty?a.value=1:1==a.value?a.value=2:a.clear(),z.length&&((s=z[z.length-1]).newValue=a.value),Ie(),x=setTimeout(function(){ce()},700),!1}function ue(e){if(window.Utils&&Utils.isDoubleTapBug(e))return!1;var t=$(e.target).closest("*[data-action]"),n=$(e.target).closest("*[data-action]").attr("data-action"),i=t.attr("data-value"),a=!(!t||!t.length||"A"!=t[0].nodeName);return!a&&e.target&&"A"==e.target.nodeName&&(a=!0),n&&!a?(he(n,i),!1):a&&Config.preventExternals?(e.preventDefault(),e.stopPropagation(),!1):void 0}function he(e,t){switch(e){case"gift":Ae(!0);break;case"toggleHintIcon":B=!B,Storage.setDataValue("hideHintIcon",B),De();break;case"close-titleScreen":!function(){if(!C&&!Storage.getDataValue("splashSkibbable",!1)){if(++k<8)return;Storage.setDataValue("splashSkibbable",!0),PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.the_impatient_one)}de(K)}();break;case"show-menu":clearTimeout(x),Tutorial.end(),c&&c.hint.clear(),K(),R=!0;break;case"back":if(p){var n=p;return p=null,he(n)}return D&&I?he("show-game"):!D&&I?he("show-menu"):D&&_&&_.isTutorial?(Tutorial.end(),se(),clearTimeout(x),he("show-menu")):D&&_&&!_.isTutorial?(clearTimeout(x),g&&Config.abortGame?void ve(function(e){Config.abortGame({score:+e||0})}):(se(),he("show-sizes"))):Config.skipMenu?Config.abortGame?void ve(function(e){Config.abortGame({score:+e||0})}):he("show-daily"):he("show-menu");case"next":clearTimeout(x),Tutorial.end(),c&&c.hint.clear(),ne(T);break;case"undo":R||ye();break;case"continue":a=JSON.parse(JSON.stringify(z)),ie(_,!0),$(a).each(function(){c.tile(this.x,this.y).value=this.newValue}),z=a,setTimeout(function(){Se(),c.hint.show(HintType.GameContinued),Ie()},0);break;case"retry":if(clearTimeout(x),$("#game").removeClass("show"),Tutorial.active||_.isTutorial)return void setTimeout(function(){Tutorial.start()},300);setTimeout(function(){ie(_)},300);break;case"help":if(R)break;if(clearTimeout(x),Tutorial.active&&!Tutorial.hintAllowed())return;c.hint.visible?c.hint.clear():(q++,c.hint.clear(),c.hint.next());break;case"rules":A=!(I=!0),$(".screen").hide().removeClass("show"),$("#rules").show(),setTimeout(function(){$("#rules").addClass("show")},0),J();break;case"end-rules":return Config.preventExternals?he("back"):window.isWebApp?he("apps"):he("games");case"promo":Promo.click();break;case"share":W();break;case"games":p="sizes"==t?"play":null,ee();break;case"apps":Z();break;case"show-game":Y();break;case"play":$("#game").removeClass("show-share"),f=!1,(b?te:ge)();break;case"play-daily":$("#game").removeClass("show-share"),f=!0,(b?te:ge)();break;case"tutorial":!Config.unlimited&&Config.daily&&(f=!0),ge();break;case"about":X();break;case"stopwatch":ae();break;case"goto-0hn0":i="https://0hn0.com",window.isWebApp?window.open(i,"_blank"):$.browser.android?(i="https://play.google.com/store/apps/details?id=com.q42.ohno",APP_BRIDGE.ExternalLink.open(i)):$.browser.ios&&(i="https://itunes.apple.com/us/app/0h-n0/id957191082?mt=8",APP_BRIDGE.ExternalLink.open(i));break;case"achievements":PlayCenter.showAchievements();break;case"leaderboards":PlayCenter.showLeaderboard();break;case"playcenter":$.browser.ios&&!window.isWebApp&&PlayCenter.enabled&&!PlayCenter.isSignedIn?($("#playcenter").addClass("spin"),PlayCenter.signIn(),clearTimeout(r),r=setTimeout(function(){$("#playcenter").removeClass("spin")},4e3)):Te();break;case"sign-out":PlayCenter.signOut();break;case"sign-in":PlayCenter.signIn();break;case"stopwatch":case"settings":$e();break;case"color-theme":Themes.toggle();break;case"toggleTimeTrial":ae();break;case"toggleFastIntro":Config.fastIntro=!Config.fastIntro,Storage.setDataValue("fastIntro",Config.fastIntro),Config.fastIntro?$("#toggleFastIntroValue").html('<text data-text-id="Yes">'+Language.get("Yes")+"</text>"):$("#toggleFastIntroValue").html('<text data-text-id="No">'+Language.get("No")+"</text>");break;case"toggleDonate":!function(){if(Storage.getDataValue("donated",!1))return;Store.buyFullVersion()}();break;case"thanks":_e();break;case"hide-share":$("#game").toggleClass("show-share");break;case"afterThanks":if(!m)return m=!0,void K();X();break;case"toggleLanguage":Language.toggle(),Re()}var i,a}function ce(){0<c.emptyTileCount?c.isValid()?$('#bar [data-action="help"]').removeClass("subtleHint"):($('#bar [data-action="help"]').removeClass("subtleHint"),clearTimeout(a),setTimeout(function(){c.isValid(!0);for(var e=!1,t=0;t<c.width;t++){var n=c.getColInfo(t),i=c.getRowInfo(t);if(n.isFull&&(n.isInvalid||!n.unique)||i.isFull&&(i.isInvalid||!i.unique)){e=!0;break}}e&&($('#bar [data-action="help"]').addClass("subtleHint"),a=setTimeout(function(){$('#bar [data-action="help"]').removeClass("subtleHint")},2e3))},0)):0<c.wrongTiles.length?c.hint.next():e()}function de(n){Storage.getItem("tutorialPlayed",function(e){var t=e.tutorialPlayed+""=="true";n(b=t)})}function fe(){Storage.setItem("tutorialPlayed",!0),b=!0,$('#menu [data-action="play"]').removeClass("locked")}function ge(){$("#bar [data-action]").hide(),A=!1,Tutorial.start(),y=!0,de(function(e){e||(y=!1),fe(),$("#undo").closest(".iconcon").css("display","none")})}function pe(){return A?window.WinJS?window.close():navigator.app&&navigator.app.exitApp():he("back"),!0}function me(){return Storage.getDataValue("gamesPlayed",0)}function ve(n){Storage.getItem("score",function(e){var t=e.score;n(t=t||0)})}function we(e,t){clearTimeout(we.TOH);var n=score=+t,i=n+(e||0);return i<=n?n:(Storage.setItem("score",i),i)}function ye(){if(!z.length)return c.hint.visible?(c.unmark(),void c.hint.hide()):void(M?c.hint.show("Nothing to undo."):c.hint.show("That's the undo button."));var e=z.pop(),t=c.tile(e.x,e.y),n=e.oldValue;c.unmark(),0<=n?t.value=n:t.clear(),t.mark();var i=Language.get("This tile was reversed to ");1==n&&(i+=Language.get("red.")),2==n&&(i+=Language.get("blue.")),0==n&&(i+=Language.get("its empty state.")),c.hint.show(i),M=!0,F++,Ie(),clearTimeout(x),x=setTimeout(function(){ce()},700)}function be(){clearTimeout(o),clearTimeout(l),clearTimeout(u),clearTimeout(a),clearTimeout(v.hide0),clearTimeout(v.hide1),clearTimeout(v.show01),clearTimeout(v.hide01)}function Ce(){ve(function(e){var t=me(),n=Language.get("shareMessage");n=(n=(n=n.replace(/\$score/gi,e)).replace(/\$gamesPlayed/gi,t)).replace(/\$today/gi,ze().toLowerCase()),H=n,$("#share-message").html(H.replace(/\n/,"<br>"))})}function ke(){_.isTutorial||G&&(c.each(function(e,t,n,i){this.system&&$("#tile-"+e+"-"+t).addClass("system")}),E=!0,10==++V&&PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.happy_lock_toggler))}function Se(){$(".system").removeClass("system"),E=!1}function Te(){I=!(A=!1),$(".screen").hide().removeClass("show"),$("#online").show(),$("#bar [data-action]").hide(),$('#bar [data-action="back"]').show(),setTimeout(function(){$("#online").addClass("show")},0),J()}function $e(){I=!(A=!1),$(".screen").hide().removeClass("show"),$("#settings").show(),$("#settings [data-action]").show(),setTimeout(function(){$("#settings").addClass("show")},0),J()}function _e(){I=!(A=!1),$(".screen").hide().removeClass("show"),$("#thanks").show(),setTimeout(function(){$("#thanks").addClass("show")},0),J()}function xe(){Storage.setDataValue("donated",!0),$('[data-action="thanks"]').show(),$('p[data-action="about"]').hide(),$("#donate").hide(),$("#toggleDonateValue").removeClass("link").addClass("no-link").html('<text data-text-id="Yes">'+Language.get("Yes")+"</text>"),fullVersion=!0,Storage.data.achievementsUnlocked&&Storage.data.achievementsUnlocked.pay_to_win||PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.pay_to_win)}function Pe(){$("#donate").remove(),$("#toggleDonateValue").remove(),$("#toggleDontae").remove()}function Ae(e){var t=$(".gift");t.removeClass("gift"),e&&(t.addClass("unpack"),Storage.setDataValue("unpacked",!0),setTimeout(function(){$(".unpack").removeClass("unpack")},300))}function De(){B?($("#toggleHintIcon").html('<text data-text-id="No">'+Language.get("No")+"</text>"),$('[data-action="help"]').addClass("disabled")):($("#toggleHintIcon").html('<text data-text-id="Yes">'+Language.get("Yes")+"</text>"),$('[data-action="help"]').removeClass("disabled").css("display","inline-block"))}function Ie(e){e&&(Ie.totalTiles=c.size*c.size,Ie.initialEmptyTileCount=c.emptyTileCount,Ie.initialTileCount=Ie.totalTiles-Ie.initialEmptyTileCount);var t=Ie.totalTiles-c.emptyTileCount-Ie.initialTileCount,n=Math.ceil(t/Ie.initialEmptyTileCount*100);$("#percentage .value").html(n+"%")}function ze(){return Language.get("weekDays")[Me().getDay()]}function Me(){var e,t,n,i,a=new Date;return!s||(e=s.split("-"))&&3==e.length&&(t=+e[2],n=+e[1],i=+e[0],a=new Date(t,n-1,i)),a}function Re(){P=[];var e=Language.get("weekDays")[Me().getDay()];$("#weekDay").html(e.toLowerCase())}function Le(){return Me().getFullYear()+"-"+(Me().getMonth()+1)+"-"+Me().getDate()}function Ee(){if($("[data-gridsize]").removeClass("done"),f){var e=Storage.getDataValue("today-id");e&&e==Le()||(Storage.setDataValue("today-id",Le()),Storage.setDataValue("today-progress",{}));var t,n=Storage.getDataValue("today-progress",{});for(t in n)$('[data-gridsize="'+t+'"]').addClass("done")}}this.showSettings=$e,this.start=function(e){if(e&&(e.date&&(s=e.date),e.size&&(g=e.size)),setTimeout(function(){Levels.init()},100),function(){if(w)return;document.addEventListener("backbutton",pe,!1),window.isWebApp||$(document).on(Utils.getEventNames("click"),"#games a",function(e){if(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),Utils.isDoubleTapBug(e,this))return!1;var t=$(e.target).closest("a").attr("href");return($.browser.android||$.browser.ios)&&APP_BRIDGE.ExternalLink.open(t),!1});window.WinJS&&(WinJS.Application.onbackclick=pe);$(document).on(Utils.getEventNames("keydown"),function(e){return 27==e.keyCode?(pe(),!1):32==e.keyCode?(he("help"),!1):90==e.keyCode&&(e.metaKey||e.ctrlKey)?(he("undo"),!1):void 0}),$(document).on(Utils.getEventNames("end"),ue),$(document).on(Utils.getEventNames("start"),"#grid td",le),$(document).on(Utils.getEventNames("contextmenu"),function(e){return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1}),n&&$(document).on(Utils.getEventNames("end"),"#boardsize",function(){c&&c.solve()});w=!0}(),t||Config.skipIntro)de(K);else{if(Config.fastIntro=1==Storage.getDataValue("fastIntro",!1),Config.fastIntro)return $("#toggleFastIntroValue").html('<text data-text-id="Yes">'+Language.get("Yes")+"</text>"),$("#title").addClass("fast-anim"),$(".hide0").removeClass("hide0"),$(".hide1").removeClass("hide1"),$(".show01").removeClass("show01").addClass("hidehs finalanim"),void(C=!0);v.hide0=setTimeout(function(){$(".hide0").removeClass("hide0")},300),v.hide1=setTimeout(function(){$(".hide1").removeClass("hide1")},1300),v.show01=setTimeout(function(){$(".show01").removeClass("hidehs")},2300),v.hide01=setTimeout(function(){$(".show01").removeClass("show01").addClass("hidehs finalanim"),C=!0},4200)}},this.init=function(){h=window.isWebApp,d=window.isWebApp,Ce(),window.Analytics&&Analytics.init(),Config.hideAboutButton&&$('[data-action="about"]').remove(),ve(function(e){$("#scorenr").html(e)}),$("#gamesplayednr").html(me()),$("#tweeturl").hide(),(i=Storage.getDataValue("showTimeTrial",!1))?$("#toggleTimeTrialValue").html('<text data-text-id="Yes">'+Language.get("Yes")+"</text>"):$("#toggleTimeTrialValue").html('<text data-text-id="No">'+Language.get("No")+"</text>"),Storage.getDataValue("donated",!1)&&xe(),Themes.init(),Promo.init(),Promo.addListener(function(e){void 0!==e.showShareEvery&&(Config.showShareEvery=e.showShareEvery)}),!1===Config.showGamesPage&&($("#apps").attr("data-action","back"),$('.inner[data-action="games"]').remove()),!1===Config.newLabel&&$(".new").remove(),Config.removeLinks&&$(".web-link").remove(),!1===Config.twitter&&$('[data-action="tweet"]').remove(),window.isWebApp?Config.disableDonation&&Pe():$("#app").hide(),Config.preventExternals&&($("#games, #apps").remove(),Pe()),Utils.isTouch()?$("html").addClass("touch"):($("html").addClass("web"),$(document).on("mousedown touchstart",".web-link",function(e){if(Config.preventExternals)return e.preventDefault(),e.stopPropagation(),!1;var t="https://"+$(e.target).html();return window.open(t),!1})),$("[data-size]").each(function(e,t){var n=$(t),i=+n.attr("data-size"),a=S[i-1];n.html(a),n.on(Utils.getEventNames("start"),function(e){if(Utils.isDoubleTapBug(e))return!1;var t=S[$(e.target).closest("[data-size]").attr("data-size")-1];if($(e.target).hasClass("gift"))return!1;ne(t)})}),J(),$(window).on(Utils.getEventNames("resize"),J),$(window).on(Utils.getEventNames("orientationchange"),J),!0!==Config.allowScroll&&$("#container").on(Utils.getEventNames("move"),function(e){return e.preventDefault(),e.stopPropagation(),!1}),Store.init(),Q(),J(),Storage.getDataValue("unpacked")&&Ae(),B=Storage.getDataValue("hideHintIcon",!1),De(),Utils.setColorScheme("#c24b31"),!0!==Config.preventExternals&&(h=!0,$("#tweeturl").on(Utils.getEventNames("click"),function(e){return e.stopPropagation(),e.preventDefault(),W(),!1})),window.isWebApp&&PlayCenter.enabled&&!PlayCenter.isSignedIn&&PlayCenter.autoSignIn();var e,t=window.Config||{};for(e in t){t[e]||$('[data-config="'+e+'"]').hide()}},this.startGame=ie,this.showTitleScreen=Q,this.showGame=Y,this.showMenu=K,this.resize=J,this.showAbout=X,this.showApps=Z,this.showGames=ee,this.showOnline=Te,this.startTutorial=ge,this.checkForLevelComplete=ce,this.undo=ye,this.showSystemTiles=ke,this.hideSystemTiles=Se,this.getScore=ve,this.setScore=we,this.getGamesPlayed=me,this.purchaseReceived=function(){xe(),m=!1,_e()},this.enableDonatedState=xe,this.refreshGameAfterLanguageChange=Re,this.markTutorialAsPlayed=fe,window.Config&&Config.debug&&(this._test=e),window.__defineGetter__("tile",function(){return c.tile}),this.__defineGetter__("grid",function(){return c}),this.__defineGetter__("debug",function(){return t})};function Grid(e,f,r){var g=this,r=r||"board";width=e,f=f||e,tiles=[],renderTOH=0,noRender=!1,emptyTile=new Tile(-99,g,-99),maxPerRow=Math.ceil(width/2),maxPerCol=Math.ceil(f/2),wreg=new RegExp("[12]{"+width+"}"),hreg=new RegExp("[12]{"+f+"}"),tripleReg=new RegExp("1{3}|2{3}"),tripleRedReg=new RegExp("1{3}"),tripleBlueReg=new RegExp("2{3}"),count0reg=new RegExp("[^0]","g"),count1reg=new RegExp("[^1]","g"),count2reg=new RegExp("[^2]","g"),rendered=!1,quality=0,tileToSolve=null;g.state=new State(this);var p=g.hint=new Hint(this);function m(e){for(var t=0;t<tiles.length;t++){var n=t%width,i=Math.floor(t/width),a=tiles[t];if(e.call(a,n,i,t,a))break}return g}function t(e,t){e&&(width=f=Math.sqrt(e.length),t&&g.state.save("full",t)),tiles=[];for(var n=0;n<width*f;n++){var i=e?e[n]:0;tiles[n]=new Tile(i,g,n)}return v(),g}function s(e,t){return e<0||e>=width||t<0||f<=t?-1:t*width+e}function v(){}function l(e){if(!noRender){if(clearTimeout(renderTOH),e){Game.debug&&console.log("rendering..."),rendered=!1;for(var t='<table data-grid="'+r+'" id="grid" cellpadding=0 cellspacing=0>',n=0;n<f;n++){t+="<tr>";for(var i=0;i<width;i++){var a=s(i,n),o=tiles[a];t+='<td data-x="'+i+'" data-y="'+n+'" class="'+((i+n%2)%2?"even":"odd")+'"><div id="tile-'+i+"-"+n+'" class="tile tile-'+(o&&0<o.value?o.value:"")+'"><div class="inner"></div></div></td>'}t+="</tr>"}return t+="</table>",$("#"+r).html(t),Game.resize(),rendered=!0,g}renderTOH=setTimeout(function(){l(!0)},0)}}function u(e,t){return isNaN(e)?emptyTile:(isNaN(t)&&(e=(n=e)%width,t=Math.floor(n/width)),e<0||e>=width||t<0||f<=t?emptyTile:tiles[s(e,t)]);var n}var n=u;function w(){var e=[];return m(function(){this.isEmpty&&e.push(this)}),e}function h(e,t){var n,i,a,o,r,s=0,l=tiles;g.state.clear(),noRender=!0,(e||t)&&(l=tiles.concat(),Utils.shuffle(l)),tileToSolve&&(a=[],o=[],r=[],m(function(e,t,n){e==tileToSolve.x?o.push(this):t==tileToSolve.y?a.push(this):r.push(this)}),l=a.concat(o,[tileToSolve],r));for(var u=width*f*50;s++<u;){for(var h=!(i=[]),c=0;c<l.length;c++)if((n=l[c]).isEmpty){if(y(n)){if(p.active)return;h=n;break}i.push(n)}if(tileToSolve&&h&&tileToSolve.x==h.x&&tileToSolve.y==h.y)return!0;if(!h&&i.length&&e){n=i[0];var d=Utils.pick(n.possibleValues);n.value=d,g.state.push(n),b()||(g.state.pop(n),n.value=1==d?2:1,g.state.push(n),b()||g.state.pop(n))}else{if(!h)break;if(g.state.push(h),b()||g.state.pop(),t)break}}return noRender=!1,v(),0==w().length}function y(e){if(e.collect(p),g.state.currentState&&(g.state.currentState[e.id2]?e.possibleValues=[1]:g.state.currentState[e.id1]&&(e.possibleValues=[2])),1==e.possibleValues.length)return p.active||(e.value=e.possibleValues[0]),!0;if(e.emptyRowPairWith&&i(e,e.emptyRowPairWith)){if(p.active){e.clear();var t=HintType.SinglePossibleRowCombo,n=[];return p.doubleColFound.length?(t=HintType.ColsMustBeUnique,n=p.doubleColFound):p.doubleRowFound.length&&(t=HintType.RowsMustBeUnique,n=p.doubleRowFound),p.mark(e,t,e.emptyRowPairWith,n),!0}return!0}if(e.emptyColPairWith&&i(e,e.emptyColPairWith)){if(p.active){e.clear();t=HintType.SinglePossibleColCombo,n=[];return p.doubleColFound.length?(t=HintType.ColsMustBeUnique,n=p.doubleColFound):p.doubleRowFound.length&&(t=HintType.RowsMustBeUnique,n=p.doubleRowFound),p.mark(e,t,e.emptyColPairWith,n),!0}return!0}return!1}function i(e,t){for(var n=1;n<=2;n++)if(e.value=n,t.value=1==n?2:1,!b())return e.value=1==n?2:1,t.clear(),1;e.clear(),t.clear()}for(var a={cols:[],rows:[],colInfo:[],rowInfo:[]},o=0;o<width;o++)a.cols[o]=Utils.fillArray(0,0,f),a.rows[o]=Utils.fillArray(0,0,width);function c(e){var t,n=a.colInfo[e];return n||(t=a.cols[e].join(""),(n=a.colInfo[e]={col:e,str:t,nr0s:t.replace(count0reg,"").length,nr1s:t.replace(count1reg,"").length,hasTriple:tripleReg.test(t)}).hasTriple&&(n.hasTripleRed=tripleRedReg.test(t),n.hasTripleBlue=tripleBlueReg.test(t)),n.isFull=0==n.nr0s,n.nr2s=f-n.nr0s-n.nr1s,n.isInvalid=n.nr1s>maxPerRow||n.nr2s>maxPerRow||n.hasTriple),n}function d(e){var t,n=a.rowInfo[e];return n||(t=a.rows[e].join(""),(n=a.rowInfo[e]={row:e,str:t,nr0s:t.replace(count0reg,"").length,nr1s:t.replace(count1reg,"").length,hasTriple:tripleReg.test(t)}).hasTriple&&(n.hasTripleRed=tripleRedReg.test(t),n.hasTripleBlue=tripleBlueReg.test(t)),n.isFull=0==n.nr0s,n.nr2s=width-n.nr0s-n.nr1s,n.isInvalid=n.nr1s>maxPerRow||n.nr2s>maxPerRow||n.hasTriple),n}function b(e){p.doubleColFound=[],p.doubleRowFound=[];for(var t={},n={},i=0;i<width;i++){var a=c(i);if(a.isInvalid&&!e)return!1;if(a.isFull)if(n[a.str]){if(a.unique=!1,a.similar=n[a.str]-1,p.active&&p.doubleColFound.push(n[a.str]-1,i),!e)return!1}else a.unique=!0,n[a.str]=i+1;if((a=d(i)).isInvalid&&!e)return!1;if(a.isFull)if(t[a.str]){if(a.unique=!1,a.similar=t[a.str]-1,p.active&&p.doubleRowFound.push(t[a.str]-1,i),!e)return!1}else a.unique=!0,t[a.str]=i+1}return!0}this.each=m,this.render=v,this.getIndex=s,this.tile=n,this.generate=function(){var e=h(!0);return g.state.save("full"),e},this.generateFast=function(){var i=[],a=new RegExp("0{3}|1{3}","g");function e(e){for(var t=0;t<width;t++){u(t,e).clear()}var n=o[e];n&&(i.push(n),delete o[e])}noRender=!0,function(){for(var e=0,t=Math.pow(2,width);e<t;e++){var n=Utils.padLeft(e.toString(2),width);n.match(a)||n.split(0).length-1>maxPerRow||n.split(1).length-1>maxPerRow||i.push(n)}}(),Utils.shuffle(i);var t=0,o=[],n=Utils.fillArray(0,0,width);do{n[t]++;for(var r=i.shift(),s=0;s<width;s++){u(s,t).value=+r.charAt(s)+1}if(b())o[t]=r,t++;else if(i.push(r),e(t),n[t]>=i.length){n[t]=0;for(var l=1;l<t;l++)e(l),n[l]=0;t=1}}while(t<f);g.state.save("full"),noRender=!1},this.breakDown=function(e){var t,n=0,i=e||tiles.concat();tileToSolve=null,g.state.clear(),e||Utils.shuffle(i);for(var a=0;a<i.length&&n++<6;){t=i[a++];var o=tileToSolve=t,r=t.value;t.clear(),g.state.save("breakdown"),h()?(g.state.restore("breakdown"),n=0):(g.state.restore("breakdown"),o.value=r)}tileToSolve=null,g.state.save("empty"),quality=Math.round(w().length/(width*f)*100),m(function(){this.isEmpty||(this.system=!0)})},this.breakDownSimple=function(){var e,t=tiles.concat(),n=0;Utils.shuffle(t);for(var i=[];n<t.length;){var a=(e=t[n++]).value;e.clear(),y(e)?e.clear():(e.value=a,i.push(e))}return quality=Math.round(w().length/(width*f)*100),i},this.clear=function(){return m(function(){this.clear()}),g},this.load=t,this.solve=h,this.step=function(e){return h(e,!0)},this.isValid=b,this.ease=function(e){var t=w(),n=e?Math.floor(e/100*t.length):1;if(!t.length)return g;Utils.shuffle(t);for(var i=0;i<n;i++){var a=t[i];a.value=g.state.getValueForTile("full",a.x,a.y)}return g},this.size=e,this.markRow=function(e){for(var t=0;t<width;t++)n(t,e).mark();return g},this.unmarkRow=function(e){for(var t=0;t<width;t++)n(t,e).unmark();return g},this.markCol=function(e){for(var t=0;t<f;t++)n(e,t).mark();return g},this.unmarkCol=function(e){for(var t=0;t<f;t++)n(e,t).unmark();return g},this.mark=function(e,t){return n(e,t).mark(),g},this.unmark=function(e,t){if("number"==typeof e&&"number"==typeof t)return n(e,t).unmark(),g;for(t=0;t<f;t++)for(e=0;e<width;e++)n(e,t).unmark();return g},this.getValues=function(){var e=[];return m(function(){e.push(this.value)}),e},this.setValue=function(e,t,n,i){a.cols[e][t]=i,a.rows[t][e]=i,a.colInfo[e]=0,a.rowInfo[t]=0},this.getColInfo=c,this.getRowInfo=d,this.activateDomRenderer=function(){v=this.render=l,noRender=!1},this.__defineGetter__("tiles",function(){return tiles}),this.__defineGetter__("width",function(){return width}),this.__defineGetter__("height",function(){return f}),this.__defineGetter__("emptyTileCount",function(){return w().length}),this.__defineGetter__("emptyTiles",w),this.__defineGetter__("wrongTiles",function(){return r=[],m(function(e,t,n,i){var a=i.value,o=g.state.getValueForTile("full",e,t);0<a&&a!=o&&r.push(i)}),r;var r}),this.__defineGetter__("rendered",function(){return rendered}),this.__defineGetter__("id",function(){return r}),this.__defineGetter__("quality",function(){return quality}),this.__defineGetter__("info",function(){return a}),this.__defineGetter__("maxPerRow",function(){return maxPerRow}),this.__defineGetter__("maxPerCol",function(){return maxPerCol}),this.__defineGetter__("hint",function(){return p}),t()}function Tile(r,s,t){var l=this,u=this.x=t%s.width,h=this.y=Math.floor(t/s.width),e=this.id=u+","+h,c=new RegExp("0","g"),d=[],f=null,g=null;function n(e,t){var n=u+e,i=h+t;return s.tile(n,i)}function p(e){switch(e){case Directions.Right:return n(1,0);case Directions.Left:return n(-1,0);case Directions.Up:return n(0,-1);case Directions.Down:return n(0,1)}}function i(e){return r=e,s.setValue(u,h,t,e),s.rendered?$("#tile-"+u+"-"+h).removeClass().addClass("tile tile-"+r):s.render(),l}this.id1=e+"=1",this.id2=e+"=2",this.right=function(){return p(Directions.Right)},this.left=function(){return p(Directions.Left)},this.up=function(){return p(Directions.Up)},this.down=function(){return p(Directions.Down)},this.move=p,this.clear=function(){i(0)},this.collect=function(e){if(0<r)return l;d=[1,2],f=g=null;for(var t=1;t<=2;t++){var n,i=1==t?2:1;for(n in Directions)if(p(n).value==t&&p(n).move(n).value==t)return d=[i],e&&e.active&&e.mark(l,2==t?HintType.MaxTwoBlue:HintType.MaxTwoRed),l;if(p(Directions.Left).value==t&&p(Directions.Right).value==t||p(Directions.Up).value==t&&p(Directions.Down).value==t)return d=[i],e&&e.active&&e.mark(l,2==t?HintType.MaxTwoBlue:HintType.MaxTwoRed),l}var a=s.getRowInfo(h);if(a.nr1s>=s.maxPerRow)return d=[2],e&&e.active&&e.mark(l,HintType.RowMustBeBalanced),l;if(a.nr2s>=s.maxPerRow)return d=[1],e&&e.active&&e.mark(l,HintType.RowMustBeBalanced),l;2==a.nr0s&&a.str.replace(c,function(e,t){t!=l.x&&(g=s.tile(t,l.y))});var o=s.getColInfo(u);return o.nr1s>=s.maxPerCol?(d=[2],e&&e.active&&e.mark(l,HintType.ColMustBeBalanced)):o.nr2s>=s.maxPerCol?(d=[1],e&&e.active&&e.mark(l,HintType.ColMustBeBalanced)):2==o.nr0s&&o.str.replace(c,function(e,t){t!=l.y&&(f=s.tile(l.x,t))}),l},this.mark=function(){return $("#tile-"+u+"-"+h).addClass("marked"),l},this.unmark=function(){return $("#tile-"+u+"-"+h).removeClass("marked"),l},this.isPartOfTripleX=function(){var e=r;if(!e)return!1;var t=Directions.Left,n=Directions.Right;return p(t).value==e&&p(t).move(t).value==e||p(n).value==e&&p(n).move(n).value==e||p(t).value==e&&p(n).value==e},this.isPartOfTripleY=function(){var e=r;if(!e)return!1;var t=Directions.Up,n=Directions.Down;return p(t).value==e&&p(t).move(t).value==e||p(n).value==e&&p(n).move(n).value==e||p(t).value==e&&p(n).value==e},this.isPartOfTriple=function(){return partOfTripleX()||partOfTripleY()},this.__defineGetter__("value",function(){return r}),this.__defineSetter__("value",i),this.__defineGetter__("isEmpty",function(){return 0==r}),this.__defineGetter__("possibleValues",function(){return d}),this.__defineSetter__("possibleValues",function(e){d=e}),this.__defineGetter__("emptyRowPairWith",function(){return g}),this.__defineGetter__("emptyColPairWith",function(){return f})}function State(e){var i,o=this,r={};this.grid=e,this.clear=function(){i={}},this.save=function(e,t){var n={id:e=e||"1",values:[],restoreCount:0};if(t)for(var i=0;i<t.length;i++)n.values.push(t[i]);else for(i=0;i<o.grid.tiles.length;i++)n.values.push(o.grid.tiles[i].value);return r[e]=n,o},this.restore=function(e){var t=r[e=e||"1"];t.restoreCount++;for(var n=0;n<t.values.length;n++)o.grid.tiles[n].value=t.values[n];return o},this.push=function(e){var t=1==e.value?e.id1:e.id2,n={parent:i,tile:e};i[t]=n,i[e.id]?i[e.id]++:i[e.id]=1,i=n},this.pop=function(){do{var e=i.tile;e.clear(),i=i.parent}while(i&&2==i[e.id])},this.getValueForTile=function(e,t,n){var i,a=r[e];return a?(isNaN(n)&&(t=(i=t)%o.grid.width,n=Math.floor(i/o.grid.width)),a.values[n*o.grid.width+t]):-1},this.__defineGetter__("currentState",function(){return i})}function Hint(u){var h=!1,a=!1,o={type:HintType.None,tile:null,tile2:null,doubleRowOrCol:[]};function t(){h=!0;var e=[],t=[];u.isValid(!0);for(var n=0;n<u.width;n++){var i=u.getColInfo(n),a=u.getRowInfo(n);i.isFull&&i.isInvalid&&e.push(i),a.isFull&&a.isInvalid&&e.push(a),i.isFull&&!i.unique&&t.push(i),a.isFull&&!a.unique&&t.push(a)}var o=null;if(e.length?o=Utils.pick(e):t.length&&(o=Utils.pick(t)),o){var r,s=-1,l=!(0!==o.col&&!o.col);if(hintType=null,r=l?o.col:o.row,o.hasTriple?hintType=o.hasTripleRed?HintType.MaxTwoRed:HintType.MaxTwoBlue:o.nr2s>o.nr1s||o.nr1s>o.nr2s||o.nr1s>o.nr2s?hintType=l?HintType.ColMustBeBalanced:HintType.RowMustBeBalanced:o.unique||(hintType=l?HintType.ColsMustBeUnique:HintType.RowsMustBeUnique,0!=o.similar&&!o.similar||(s=o.similar)),0==r||r)return l?(u.markCol(r),0!=s&&!s||u.markCol(s)):(u.markRow(r),0!=s&&!s||u.markRow(s)),c(hintType),!0}return!1}function c(e,t){var n=e,i=Language.get(n);i&&(n=i),t&&(n=n.replace(/\%s/gi,t)),$("#hintMsg").html("<span>"+n+"</span>"),$("html").addClass("showHint"),a=!0}function e(){$("html").removeClass("showHint"),a=!1}this.doubleColFound=[],this.doubleRowFound=[],this.clear=function(){this.doubleColFound=[],this.doubleRowFound=[],e(),u&&u.unmark(),h=!1,o={type:HintType.None,tile:null,tile2:null,doubleRowOrCol:[]}},this.mark=function(e,t,n,i){return!!h&&(o.tile=e,o.tile2=n||null,o.type=t,o.doubleRowOrCol=i,!0)},this.next=function(){var e=u.wrongTiles;if(e.length){if(t())return;1==e.length?(e[0].mark(),c(HintType.Error)):($(e).each(function(){this.mark()}),c(HintType.Errors))}else if(h=!0,u.solve(!1,!0),o.tile)switch(c(o.type),o.type){case HintType.RowMustBeBalanced:u.markRow(o.tile.y);break;case HintType.ColMustBeBalanced:u.markCol(o.tile.x);break;case HintType.RowsMustBeUnique:u.markRow(o.tile.y),u.markRow(o.doubleRowOrCol[0]!=o.tile.y?o.doubleRowOrCol[0]:o.doubleRowOrCol[1]);break;case HintType.ColsMustBeUnique:u.markCol(o.tile.x),u.markCol(o.doubleRowOrCol[0]!=o.tile.x?o.doubleRowOrCol[0]:o.doubleRowOrCol[1]);break;default:o.tile2&&o.tile2.mark(),o.tile.mark()}},this.show=c,this.hide=e,this.getErrorHintForCompleteGrid=t,this.info=o,this.__defineGetter__("active",function(){return h}),this.__defineSetter__("active",function(e){h=e}),this.__defineGetter__("visible",function(){return a})}Grid.generate=function(e){for(var t,n=0;(t=new Grid(e)).generate(),0<t.emptyTileCount&&n++<1;);return t};var TutorialMessages={1:{msg:"t01",tiles:[[0,0,1]]},2:{msg:"t02",tiles:[[0,1,2]]},3:{msg:"t03",tiles:[[2,0,2]]},4:{msg:"t04",tiles:[[1,1,1]]},5:{msg:"t05",tiles:[[1,2,2],[2,2,1]]},6:{msg:"t06",tiles:[[3,1,1]],rows:[1]},7:{msg:"t07",tiles:[[1,3,2]],cols:[1]},8:{msg:"t08",tiles:[[2,3,1]]},9:{msg:"t09",tiles:[[0,3,1],[0,2,2],[3,2,1]],rows:[2,3]},10:{msg:"t10",tiles:[[3,0,2]],wiggle:!0}},Tutorial=new function(){var n=0,t=!1,i=!1,o=[];function r(){if(n>=Utils.count(TutorialMessages))return l(),t=!1,void setTimeout(function(){Game.checkForLevelComplete()},1e3);var e=TutorialMessages[++n];msg=Language.get(e.msg),s(msg),o=[],Game.grid.unmark(),$(e.tiles).each(function(){o.push(Game.grid.tile(this[0],this[1]))}),setTimeout(function(){a()},0),e.wiggle&&$('#bar [data-action="help"]').addClass("wiggle")}function a(){var e=TutorialMessages[n];e.rows?$(e.rows).each(function(){Game.grid.markRow(this)}):e.cols?$(e.cols).each(function(){Game.grid.markCol(this)}):$(e.tiles).each(function(){Game.grid.mark(this[0],this[1])})}function s(e){$("#hintMsg").html("<span>"+e+"</span>"),$("html").addClass("showHint"),i=!0}function l(){$("html").removeClass("showHint"),i=!1}this.start=function(){t=!(n=0),$('#bar [data-action="next"]').hide(),Game.startGame({size:4,empty:[0,1,0,0,0,0,2,0,0,0,0,0,0,0,0,2],full:[1,1,2,2,2,1,2,1,2,2,1,1,1,2,1,2],isTutorial:!0}),r()},this.end=function(){$('#bar [data-action="help"]').removeClass("hidden wiggle"),t=!1},this.next=r,this.show=s,this.hide=l,this.tapTile=function(e){var t=!1;$(o).each(function(){e.x==this.x&&e.y==this.y&&(t=!0)}),t&&(e.isEmpty?e.value=1:1==e.value?e.value=2:e.clear(),setTimeout(a,0),function(){var a=!0;if($(TutorialMessages[n].tiles).each(function(){var e=this[0],t=this[1],n=Game.grid.tile(e,t),i=this[2];n.value!=i?a=!1:setTimeout(function(){n.unmark(),n.system=!0},0)}),!a)return;$(o).each(function(){this.system=!0}),r()}())},this.hintAllowed=function(){return 9<=n},this.__defineGetter__("active",function(){return t}),this.__defineSetter__("active",function(e){t=e}),this.__defineGetter__("visible",function(){return i}),this.__defineGetter__("step",function(){return n})};!function(e,i){var c=void 0,d=!0,f=null,u=!1;function t(e){return function(){return this[e]}}var o=this;function n(e,t){var n,i=e.split("."),a=o;i[0]in a||!a.execScript||a.execScript("var "+i[0]);for(;i.length&&(n=i.shift());)i.length||t===c?a=a[n]?a[n]:a[n]={}:a[n]=t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function r(t,n,e){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,i),t.apply(n,e)}}return function(){return t.apply(n,arguments)}}function h(e,t,n){return(h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:r).apply(f,arguments)}o.Ba=d;var s=Date.now||function(){return+new Date};function l(e,t){this.G=e,this.u=t||e,this.z=this.u.document,this.R=c}function g(e,t,n){(e=(e=e.z.getElementsByTagName(t)[0])||i.documentElement)&&e.lastChild&&e.insertBefore(n,e.lastChild)}function p(e,t){return e.createElement("link",{rel:"stylesheet",href:t})}function m(e,t){return e.createElement("script",{src:t})}function v(e,t){for(var n=e.className.split(/\s+/),i=0,a=n.length;i<a;i++)if(n[i]==t)return;n.push(t),e.className=n.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function w(e,t){for(var n=e.className.split(/\s+/),i=[],a=0,o=n.length;a<o;a++)n[a]!=t&&i.push(n[a]);e.className=i.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function y(e,t){for(var n=e.className.split(/\s+/),i=0,a=n.length;i<a;i++)if(n[i]==t)return d;return u}function b(e){var t;return e.R===c&&((t=e.z.createElement("p")).innerHTML='<a style="top:1px;">w</a>',e.R=/top/.test(t.getElementsByTagName("a")[0].getAttribute("style"))),e.R}function C(e){var t=e.u.location.protocol;return"about:"==t&&(t=e.G.location.protocol),"https:"==t?"https:":"http:"}function k(e,t,n){this.w=e,this.T=t,this.Aa=n}function S(e,t,n,i){this.e=e!=f?e:f,this.o=t!=f?t:f,this.ba=n!=f?n:f,this.f=i!=f?i:f}l.prototype.createElement=function(e,t,n){if(e=this.z.createElement(e),t)for(var i in t){var a,o;t.hasOwnProperty(i)&&("style"==i?(a=e,o=t[i],b(this)?a.setAttribute("style",o):a.style.cssText=o):e.setAttribute(i,t[i]))}return n&&e.appendChild(this.z.createTextNode(n)),e},n("webfont.BrowserInfo",k),k.prototype.qa=t("w"),k.prototype.hasWebFontSupport=k.prototype.qa,k.prototype.ra=t("T"),k.prototype.hasWebKitFallbackBug=k.prototype.ra,k.prototype.sa=t("Aa"),k.prototype.hasWebKitMetricsBug=k.prototype.sa;var T=/^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;function $(e){e=T.exec(e);var t=f,n=f,i=f,a=f;return e&&(e[1]!==f&&e[1]&&(t=parseInt(e[1],10)),e[2]!==f&&e[2]&&(n=parseInt(e[2],10)),e[3]!==f&&e[3]&&(i=parseInt(e[3],10)),e[4]!==f&&e[4]&&(a=/^[0-9]+$/.test(e[4])?parseInt(e[4],10):e[4])),new S(t,n,i,a)}function _(e,t,n,i,a,o,r,s,l,u,h){this.J=e,this.Ha=t,this.za=n,this.ga=i,this.Fa=a,this.fa=o,this.xa=r,this.Ga=s,this.wa=l,this.ea=u,this.k=h}function x(e,t){this.a=e,this.H=t}S.prototype.toString=function(){return[this.e,this.o||"",this.ba||"",this.f||""].join("")},n("webfont.UserAgent",_),_.prototype.getName=t("J"),_.prototype.pa=t("za"),_.prototype.getVersion=_.prototype.pa,_.prototype.la=t("ga"),_.prototype.getEngine=_.prototype.la,_.prototype.ma=t("fa"),_.prototype.getEngineVersion=_.prototype.ma,_.prototype.na=t("xa"),_.prototype.getPlatform=_.prototype.na,_.prototype.oa=t("wa"),_.prototype.getPlatformVersion=_.prototype.oa,_.prototype.ka=t("ea"),_.prototype.getDocumentMode=_.prototype.ka,_.prototype.ja=t("k"),_.prototype.getBrowserInfo=_.prototype.ja;var P=new _("Unknown",new S,"Unknown","Unknown",new S,"Unknown","Unknown",new S,"Unknown",c,new k(u,u,u));function A(e){var t=I(e.a,/(iPod|iPad|iPhone|Android|Windows Phone|BB\d{2}|BlackBerry)/,1);return""!=t?(/BB\d{2}/.test(t)&&(t="BlackBerry"),t):""!=(e=I(e.a,/(Linux|Mac_PowerPC|Macintosh|Windows|CrOS)/,1))?("Mac_PowerPC"==e&&(e="Macintosh"),e):"Unknown"}function D(e){if((t=(t=I(e.a,/(OS X|Windows NT|Android) ([^;)]+)/,2))||I(e.a,/Windows Phone( OS)? ([^;)]+)/,2))||(t=I(e.a,/(iPhone )?OS ([\d_]+)/,2)))return t;if(t=I(e.a,/(?:Linux|CrOS) ([^;)]+)/,1))for(var t=t.split(/\s/),n=0;n<t.length;n+=1)if(/^[\d\._]+$/.test(t[n]))return t[n];return(e=I(e.a,/(BB\d{2}|BlackBerry).*?Version\/([^\s]*)/,2))?e:"Unknown"}function I(e,t,n){return(e=e.match(t))&&e[n]?e[n]:""}function z(e){if(e.documentMode)return e.documentMode}function M(e){this.va=e||"-"}function R(e,t){this.J=e,this.U=4,this.K="n";var n=(t||"n4").match(/^([nio])([1-9])$/i);n&&(this.K=n[1],this.U=parseInt(n[2],10))}function L(e){return e.K+e.U}function E(e,t,n){this.c=e,this.h=t,this.M=n,this.j="wf",this.g=new M("-")}function G(e){v(e.h,e.g.f(e.j,"loading")),j(e,"loading")}function B(e){w(e.h,e.g.f(e.j,"loading")),y(e.h,e.g.f(e.j,"active"))||v(e.h,e.g.f(e.j,"inactive")),j(e,"inactive")}function j(e,t,n){e.M[t]&&(n?e.M[t](n.getName(),L(n)):e.M[t]())}function N(e,t){this.c=e,this.C=t,this.s=this.c.createElement("span",{"aria-hidden":"true"},this.C)}function U(e,t){for(var n=e.s,i=[],a=t.J.split(/,\s*/),o=0;o<a.length;o++){var r=a[o].replace(/['"]/g,"");-1==r.indexOf(" ")?i.push(r):i.push("'"+r+"'")}i=i.join(","),a="normal",o=t.U+"00","o"===t.K?a="oblique":"i"===t.K&&(a="italic"),i="position:absolute;top:-999px;left:-999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+i+";font-style:"+a+";font-weight:"+o+";",b(e.c)?n.setAttribute("style",i):n.style.cssText=i}function O(e){g(e.c,"body",e.s)}function q(e,t,n,i,a,o,r,s){for(var l in this.V=e,this.ta=t,this.c=n,this.q=i,this.C=s||"BESbswy",this.k=a,this.F={},this.S=o||5e3,this.Z=r||f,this.B=this.A=f,O(e=new N(this.c,this.C)),F)F.hasOwnProperty(l)&&(U(e,new R(F[l],L(this.q))),this.F[F[l]]=e.s.offsetWidth);e.remove()}x.prototype.parse=function(){var e;if(-1!=this.a.indexOf("MSIE")){n=A(this);var t=$(i=D(this)),n=new _("MSIE",s=$(a=I(this.a,/MSIE ([\d\w\.]+)/,1)),a,"MSIE",s,a,n,t,i,z(this.H),new k("Windows"==n&&6<=s.e||"Windows Phone"==n&&8<=t.e,u,u))}else if(-1!=this.a.indexOf("Opera"))e:{n="Unknown";var i,a,o,r,t=$(i=I(this.a,/Presto\/([\d\w\.]+)/,1)),s=$(a=D(this)),l=z(this.H);if(t.e!==f?n="Presto":(-1!=this.a.indexOf("Gecko")&&(n="Gecko"),t=$(i=I(this.a,/rv:([^\)]+)/,1))),-1!=this.a.indexOf("Opera Mini/")){n=new _("OperaMini",r=$(o=I(this.a,/Opera Mini\/([\d\.]+)/,1)),o,n,t,i,A(this),s,a,l,new k(u,u,u))}else{if(-1!=this.a.indexOf("Version/")&&(r=$(o=I(this.a,/Version\/([\d\.]+)/,1))).e!==f){n=new _("Opera",r,o,n,t,i,A(this),s,a,l,new k(10<=r.e,u,u));break e}n=(r=$(o=I(this.a,/Opera[\/ ]([\d\.]+)/,1))).e!==f?new _("Opera",r,o,n,t,i,A(this),s,a,l,new k(10<=r.e,u,u)):new _("Opera",new S,"Unknown",n,t,i,A(this),s,a,l,new k(u,u,u))}}else{n=/AppleWeb(K|k)it/.test(this.a)?(n=A(this),t=$(i=D(this)),s=$(a=I(this.a,/AppleWeb(?:K|k)it\/([\d\.\+]+)/,1)),l="Unknown",o=new S,r="Unknown",e=u,-1!=this.a.indexOf("Chrome")||-1!=this.a.indexOf("CrMo")||-1!=this.a.indexOf("CriOS")?l="Chrome":/Silk\/\d/.test(this.a)?l="Silk":"BlackBerry"==n||"Android"==n?l="BuiltinBrowser":-1!=this.a.indexOf("Safari")?l="Safari":-1!=this.a.indexOf("AdobeAIR")&&(l="AdobeAIR"),"BuiltinBrowser"==l?r="Unknown":"Silk"==l?r=I(this.a,/Silk\/([\d\._]+)/,1):"Chrome"==l?r=I(this.a,/(Chrome|CrMo|CriOS)\/([\d\.]+)/,2):-1!=this.a.indexOf("Version/")?r=I(this.a,/Version\/([\d\.\w]+)/,1):"AdobeAIR"==l&&(r=I(this.a,/AdobeAIR\/([\d\.]+)/,1)),o=$(r),e="AdobeAIR"==l?2<o.e||2==o.e&&5<=o.o:"BlackBerry"==n?10<=t.e:"Android"==n?2<t.e||2==t.e&&1<t.o:526<=s.e||525<=s.e&&13<=s.o,new _(l,o,r,"AppleWebKit",s,a,n,t,i,z(this.H),new k(e,s.e<536||536==s.e&&s.o<11,"iPhone"==n||"iPad"==n||"iPod"==n||"Macintosh"==n))):-1!=this.a.indexOf("Gecko")?(n="Unknown",i=new S,t="Unknown",s=$(a=D(this)),l=u,-1!=this.a.indexOf("Firefox")?(n="Firefox",l=3<=(i=$(t=I(this.a,/Firefox\/([\d\w\.]+)/,1))).e&&5<=i.o):-1!=this.a.indexOf("Mozilla")&&(n="Mozilla"),r=$(o=I(this.a,/rv:([^\)]+)/,1)),l=l||(1<r.e||1==r.e&&9<r.o||1==r.e&&9==r.o&&2<=r.ba||o.match(/1\.9\.1b[123]/)!=f||o.match(/1\.9\.1\.[\d\.]+/)!=f),new _(n,i,t,"Gecko",r,o,A(this),s,a,z(this.H),new k(l,u,u))):P}return n},M.prototype.f=function(e){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.va)},R.prototype.getName=t("J"),N.prototype.remove=function(){var e=this.s;e.parentNode&&e.parentNode.removeChild(e)};var F={Ea:"serif",Da:"sans-serif",Ca:"monospace"};function V(e,t,n){for(var i in F)if(F.hasOwnProperty(i)&&t===e.F[F[i]]&&n===e.F[F[i]])return d;return u}function H(e,t){e.A.remove(),e.B.remove(),t(e.q)}function W(e,t,n,i){this.c=t,this.t=n,this.N=0,this.ca=this.Y=u,this.S=i,this.k=e.k}function J(e,t,n,i,a){if(0===t.length&&a)B(e.t);else for(e.N+=t.length,a&&(e.Y=a),a=0;a<t.length;a++){var o=t[a],r=n[o.getName()],s=e.t,l=o;v(s.h,s.g.f(s.j,l.getName(),L(l).toString(),"loading")),j(s,"fontloading",l),new q(h(e.ha,e),h(e.ia,e),e.c,o,e.k,e.S,i,r).start()}}function Q(e){0==--e.N&&e.Y&&(e.ca?(w((e=e.t).h,e.g.f(e.j,"loading")),w(e.h,e.g.f(e.j,"inactive")),v(e.h,e.g.f(e.j,"active")),j(e,"active")):B(e.t))}function Y(e,t,n){this.G=e,this.W=t,this.a=n,this.O=this.P=0}function K(e,t){ee.W.$[e]=t}q.prototype.start=function(){this.A=new N(this.c,this.C),O(this.A),this.B=new N(this.c,this.C),O(this.B),this.ya=s(),U(this.A,new R(this.q.getName()+",serif",L(this.q))),U(this.B,new R(this.q.getName()+",sans-serif",L(this.q))),function e(t){var n=t.A.s.offsetWidth,i=t.B.s.offsetWidth;n===t.F.serif&&i===t.F["sans-serif"]||t.k.T&&V(t,n,i)?s()-t.ya>=t.S?t.k.T&&V(t,n,i)&&(t.Z===f||t.Z.hasOwnProperty(t.q.getName()))?H(t,t.V):H(t,t.ta):setTimeout(h(function(){e(this)},t),25):H(t,t.V)}(this)},W.prototype.ha=function(e){var t=this.t;w(t.h,t.g.f(t.j,e.getName(),L(e).toString(),"loading")),w(t.h,t.g.f(t.j,e.getName(),L(e).toString(),"inactive")),v(t.h,t.g.f(t.j,e.getName(),L(e).toString(),"active")),j(t,"fontactive",e),this.ca=d,Q(this)},W.prototype.ia=function(e){var t=this.t;w(t.h,t.g.f(t.j,e.getName(),L(e).toString(),"loading")),y(t.h,t.g.f(t.j,e.getName(),L(e).toString(),"active"))||v(t.h,t.g.f(t.j,e.getName(),L(e).toString(),"inactive")),j(t,"fontinactive",e),Q(this)},Y.prototype.load=function(e){var t=e.context||this.G;if(this.c=new l(this.G,t),t=new E(this.c,t.document.documentElement,e),this.a.k.w){var n,i,a=this.W,o=this.c,r=[];for(n in e){!e.hasOwnProperty(n)||(i=a.$[n])&&r.push(i(e[n],o))}for(e=e.timeout,this.O=this.P=r.length,e=new W(this.a,this.c,t,e),n=0,a=r.length;n<a;n++)(o=r[n]).v(this.a,h(this.ua,this,o,t,e))}else B(t)},Y.prototype.ua=function(e,a,o,t){var r=this;t?e.load(function(e,t,n){var i=0==--r.P;i&&G(a),setTimeout(function(){J(o,e,t||{},n||f,i)},0)}):(e=0==--this.P,this.O--,e&&(0==this.O?B:G)(a),J(o,[],{},f,e))};var X=e,Z=new x(navigator.userAgent,i).parse(),ee=X.WebFont=new Y(e,new function(){this.$={}},Z);function te(e,t){this.c=e,this.d=t}function ne(e,t){this.c=e,this.d=t}ee.load=ee.load,te.prototype.load=function(e){for(var t=this.d.urls||[],n=this.d.families||[],i=0,a=t.length;i<a;i++)g(this.c,"head",p(this.c,t[i]));for(t=[],i=0,a=n.length;i<a;i++){var o=n[i].split(":");if(o[1])for(var r=o[1].split(","),s=0;s<r.length;s+=1)t.push(new R(o[0],r[s]));else t.push(new R(o[0]))}e(t)},te.prototype.v=function(e,t){return t(e.k.w)},K("custom",function(e,t){return new te(t,e)});var ie={regular:"n4",bold:"n7",italic:"i4",bolditalic:"i7",r:"n4",b:"n7",i:"i4",bi:"i7"};function ae(e,t,n){this.a=e,this.c=t,this.d=n,this.m=[]}function oe(e,t){this.c=e,this.d=t,this.m=[]}function re(e,t,n){this.L=e||t+se,this.p=[],this.Q=[],this.da=n||""}ne.prototype.v=function(e,t){return t(e.k.w)},ne.prototype.load=function(e){g(this.c,"head",p(this.c,C(this.c)+"//webfonts.fontslive.com/css/"+this.d.key+".css"));for(var t=this.d.families,n=[],i=0,a=t.length;i<a;i++)n.push.apply(n,function(e){if(e=(n=e.split(":"))[0],n[1]){for(var t=n[1].split(","),n=[],i=0,a=t.length;i<a;i++){var o,r=t[i];r&&(o=ie[r],n.push(o||r))}for(t=[],i=0;i<n.length;i+=1)t.push(new R(e,n[i]));return t}return[new R(e)]}(t[i]));e(n)},K("ascender",function(e,t){return new ne(t,e)}),ae.prototype.v=function(n,i){var a,o,r,s=this,l=s.d.projectId,e=s.d.version;l?(a=s.c.u,(o=s.c.createElement("script")).id="__MonotypeAPIScript__"+l,r=u,o.onload=o.onreadystatechange=function(){if(!(r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)){if(r=d,a["__mti_fntLst"+l]){var e=a["__mti_fntLst"+l]();if(e)for(var t=0;t<e.length;t++)s.m.push(new R(e[t].fontfamily))}i(n.k.w),o.onload=o.onreadystatechange=f}},o.src=s.D(l,e),g(this.c,"head",o)):i(d)},ae.prototype.D=function(e,t){return C(this.c)+"//"+(this.d.api||"fast.fonts.com/jsapi").replace(/^.*http(s?):(\/\/)?/,"")+"/"+e+".js"+(t?"?v="+t:"")},ae.prototype.load=function(e){e(this.m)},K("monotype",function(e,t){return new ae(new x(navigator.userAgent,i).parse(),t,e)}),oe.prototype.D=function(e){var t=C(this.c);return(this.d.api||t+"//use.typekit.net")+"/"+e+".js"},oe.prototype.v=function(t,r){var e=this.d.id,n=this.d,i=this.c.u,s=this;e?(i.__webfonttypekitmodule__||(i.__webfonttypekitmodule__={}),i.__webfonttypekitmodule__[e]=function(e){e(t,n,function(e,t,n){for(var i=0;i<t.length;i+=1){var a=n[t[i]];if(a)for(var o=0;o<a.length;o+=1)s.m.push(new R(t[i],a[o]));else s.m.push(new R(t[i]))}r(e)})},e=m(this.c,this.D(e)),g(this.c,"head",e)):r(d)},oe.prototype.load=function(e){e(this.m)},K("typekit",function(e,t){return new oe(t,e)});var se="//fonts.googleapis.com/css";function le(e){this.p=e,this.aa=[],this.I={}}re.prototype.f=function(){if(0==this.p.length)throw Error("No fonts to load !");if(-1!=this.L.indexOf("kit="))return this.L;for(var e=this.p.length,t=[],n=0;n<e;n++)t.push(this.p[n].replace(/ /g,"+"));return e=this.L+"?family="+t.join("%7C"),0<this.Q.length&&(e+="&subset="+this.Q.join(",")),0<this.da.length&&(e+="&text="+encodeURIComponent(this.da)),e};var ue={latin:"BESbswy",cyrillic:"&#1081;&#1103;&#1046;",greek:"&#945;&#946;&#931;",khmer:"&#x1780;&#x1781;&#x1782;",Hanuman:"&#x1780;&#x1781;&#x1782;"},he={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ce={i:"i",italic:"i",n:"n",normal:"n"},de=RegExp("^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$");function fe(e,t,n){this.a=e,this.c=t,this.d=n}le.prototype.parse=function(){for(var e=this.p.length,t=0;t<e;t++){var n=this.p[t].split(":"),i=n[0].replace(/\+/g," "),a=["n4"];if(2<=n.length){var o,r,s=n[1],l=[];if(s)for(var u=(s=s.split(",")).length,h=0;h<u;h++){(r=(r=s[h]).match(/^[\w]+$/)?(r=de.exec(r.toLowerCase()),o=c,o=r==f?"":(o=c,o=(o=r[1])==f||""==o?"4":he[o]||(isNaN(o)?"4":o.substr(0,1)),[r[2]==f||""==r[2]?"n":ce[r[2]],o].join(""))):"")&&l.push(r)}0<l.length&&(a=l),3==n.length&&(l=[],0<(n=(n=n[2])?n.split(","):l).length&&(n=ue[n[0]])&&(this.I[i]=n))}for(this.I[i]||(n=ue[i])&&(this.I[i]=n),n=0;n<a.length;n+=1)this.aa.push(new R(i,a[n]))}};var ge={Arimo:d,Cousine:d,Tinos:d};function pe(e,t){this.c=e,this.d=t,this.m=[]}fe.prototype.v=function(e,t){t(e.k.w)},fe.prototype.load=function(e){var t,n,i=this.c;"MSIE"==this.a.getName()&&this.d.blocking!=d?(t=h(this.X,this,e),(n=function(){i.z.body?t():setTimeout(n,0)})()):this.X(e)},fe.prototype.X=function(e){for(var t=this.c,n=new re(this.d.api,C(t),this.d.text),i=this.d.families,a=i.length,o=0;o<a;o++){var r=i[o].split(":");3==r.length&&n.Q.push(r.pop());var s="";2==r.length&&""!=r[1]&&(s=":"),n.p.push(r.join(s))}(i=new le(i)).parse(),g(t,"head",p(t,n.f())),e(i.aa,i.I,ge)},K("google",function(e,t){return new fe(new x(navigator.userAgent,i).parse(),t,e)}),pe.prototype.D=function(e){return C(this.c)+(this.d.api||"//f.fontdeck.com/s/css/js/")+(this.c.u.location.hostname||this.c.G.location.hostname)+"/"+e+".js"},pe.prototype.v=function(e,u){var t=this.d.id,n=this.c.u,h=this;t?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[t]=function(e,t){for(var n,i,a,o,r=0,s=t.fonts.length;r<s;++r){var l=t.fonts[r];h.m.push(new R(l.name,(n="font-weight:"+l.weight+";font-style:"+l.style,o=a=i=void 0,i=4,a="n",o=f,n&&((o=n.match(/(normal|oblique|italic)/i))&&o[1]&&(a=o[1].substr(0,1).toLowerCase()),(o=n.match(/([1-9]00|normal|bold)/i))&&o[1]&&(/bold/i.test(o[1])?i=7:/[1-9]00/.test(o[1])&&(i=parseInt(o[1].substr(0,1),10)))),a+i)))}u(e)},t=m(this.c,this.D(t)),g(this.c,"head",t)):u(d)},pe.prototype.load=function(e){e(this.m)},K("fontdeck",function(e,t){return new pe(t,e)}),e.WebFontConfig&&ee.load(e.WebFontConfig)}(this,document);var Levels=new function(){var a={size4:[],size6:[],size8:[],size10:[]},o={4:60,6:60,8:60,10:60,12:60};function r(){Storage.setDataValue("puzzles",JSON.stringify(a))}function s(e){var t=new Grid(e),n=0,i={size:e,full:[],empty:[],quality:0,ms:0},a=new Date;for(t.clear(),t.generateFast(),i.full=t.getValues();0<n&&(t.clear(),t.state.restore("full")),t.breakDown(),i.quality=t.quality,i.quality<o[e]&&n++<42;);return i.empty=t.getValues(),i.ms=new Date-a,i.quality=quality,i}this.init=function(){!function(){try{var e=JSON.parse(Storage.getDataValue("puzzles",JSON.stringify(a)));e.size4&&(a=e),a.size12||(a.size12=[])}catch(e){}}(),BackgroundService.kick()},this.hasPuzzleAvailable=function(e){var t=a["size"+e];return!(!t||!t.length)},this.finishedSize=function(e){var t=a["size"+e];t&&t.length&&(t.shift(),r(),BackgroundService.kick())},this.addSize=function(e,t){var n=a["size"+e];if(!n)return!1;n.push(t),r(),BackgroundService.kick()},this.getSize=function(e,t){var n=a["size"+e];if(t||!n||!n.length)return s(e);var i=n[0];return 1<n.length&&(n.shift(),r(),BackgroundService.kick()),i},this.create=s,this.needs=function(){for(var e=1;e<=2;e++)for(var t in o){var n=a["size"+(t=+t)];if(n&&n.length<e)return t}return!1},this.__defineGetter__("puzzles",function(){return a})},FixedLevels=new function(){var i={size4:[{size:4,full:[2,2,1,1,1,2,1,2,2,1,2,1,1,1,2,2],empty:[0,0,1,0,0,0,0,2,2,0,0,0,1,1,0,0],quality:69,ms:8},{size:4,full:[1,1,2,2,1,2,2,1,2,2,1,1,2,1,1,2],empty:[0,0,2,2,0,0,2,0,0,0,0,0,0,1,0,0],quality:75,ms:8}],size6:[{size:6,full:[2,1,2,1,2,1,2,2,1,2,1,1,1,2,1,1,2,2,2,1,2,1,1,2,1,2,1,2,2,1,1,1,2,2,1,2],empty:[0,0,2,0,0,0,0,0,0,0,0,0,1,0,0,1,2,0,0,0,0,1,0,0,0,0,0,0,2,0,1,1,0,2,0,0],quality:75,ms:38},{size:6,full:[2,1,1,2,2,1,1,2,1,2,1,2,1,2,2,1,1,2,2,1,2,1,2,1,2,2,1,2,1,1,1,1,2,1,2,2],empty:[0,1,0,0,2,1,0,2,1,0,0,2,0,0,0,0,0,0,2,1,0,1,2,0,2,0,0,0,0,0,0,0,0,0,2,2],quality:64,ms:34}],size8:[{size:8,full:[2,1,1,2,2,1,1,2,1,2,2,1,1,2,2,1,1,1,2,2,1,2,1,2,2,1,1,2,2,1,2,1,1,2,2,1,2,1,1,2,2,1,1,2,1,2,2,1,2,2,1,1,2,1,2,1,1,2,2,1,1,2,1,2],empty:[0,0,0,0,2,0,0,0,0,2,0,0,0,0,0,0,1,0,0,0,0,0,0,2,0,0,1,0,2,0,0,0,0,2,0,1,0,1,0,2,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,2,0,0,0,0,0,0],quality:80,ms:137},{size:8,full:[2,1,2,2,1,1,2,1,2,2,1,2,1,2,1,1,1,1,2,1,2,1,2,2,2,2,1,1,2,1,1,2,1,1,2,2,1,2,2,1,2,2,1,1,2,1,2,1,1,1,2,2,1,2,1,2,1,2,1,1,2,2,1,2],empty:[0,0,2,2,0,0,0,0,2,0,1,0,0,2,0,0,0,0,0,1,0,0,0,2,0,0,1,1,0,0,0,2,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,1,2,0,0,0,0,0,0,1,0],quality:73,ms:99}],size10:[{size:10,full:[1,2,2,1,1,2,2,1,2,1,1,2,1,2,1,2,1,2,1,2,2,1,2,1,2,1,2,1,2,1,1,2,2,1,2,1,2,1,1,2,2,1,1,2,1,2,1,2,1,2,1,2,1,1,2,2,1,2,2,1,2,1,2,2,1,1,2,1,1,2,1,2,2,1,2,2,1,2,1,1,2,1,1,2,1,1,2,1,2,2,2,1,1,2,2,1,1,2,2,1],empty:[0,2,2,0,0,2,0,0,2,0,0,2,1,0,0,2,1,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,2,2,0,0,0,1,0,1,0,0,0,0,0,0,1,0,2,1,0,0,0,2,0,2,0,0,0,0,0,1,0,0,0,2,0,0,0,0,0,0,1,0,1,0,0,0,0,2,0,2,0,2,0,0,0,0,0,0,2,2,0],quality:71,ms:258},{size:10,full:[1,2,1,2,2,1,2,1,2,1,1,1,2,1,2,1,2,2,1,2,2,2,1,2,1,2,1,1,2,1,2,1,2,2,1,1,2,2,1,1,1,2,2,1,2,1,1,2,1,2,1,2,1,1,2,2,1,1,2,2,2,1,1,2,1,2,2,1,2,1,1,1,2,2,1,1,2,2,1,2,2,2,1,1,2,2,1,2,1,1,2,1,2,1,1,2,1,1,2,2],empty:[1,0,1,0,0,1,2,0,2,1,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,2,0,1,0,0,2,0,0,1,0,2,0,2,0,0,0,0,2,2,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,2,0,0,0,0,0,1,0,0,1,0,1,0,0,0],quality:74,ms:250}],size12:[{size:12,full:[1,2,1,1,2,2,1,2,1,2,2,1,2,2,1,1,2,2,1,1,2,1,2,1,2,1,2,2,1,1,2,1,2,1,1,2,1,1,2,1,2,2,1,2,1,2,2,1,1,2,1,2,2,1,1,2,1,2,1,2,2,2,1,2,1,1,2,1,2,1,1,2,2,1,2,1,1,2,2,1,2,1,2,1,1,2,1,1,2,2,1,2,1,2,1,2,1,1,2,2,1,1,2,1,2,2,1,2,2,1,2,1,1,2,1,2,2,1,2,1,1,2,1,2,2,1,2,1,1,2,1,2,2,1,2,2,1,1,2,2,1,1,2,1],empty:[0,0,1,0,2,2,0,2,0,0,2,0,0,0,1,0,2,2,0,0,0,0,2,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,2,0,0,0,0,1,0,2,0,2,0,0,0,2,0,0,1,1,0,0,1,2,0,2,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,2,0,0,1,0,0,0,0,1,0,2,0,2,0,0,0,0,2,0,0,0,0,0,0,0,2,2,0,0,0,0,2,0,2,0,0,0,0,1,1,0,2,0,0,0,0],quality:74,ms:787},{size:12,full:[1,2,1,2,1,2,2,1,1,2,2,1,1,1,2,2,1,2,2,1,2,2,1,1,2,2,1,1,2,1,1,2,1,1,2,2,1,2,1,1,2,1,2,2,1,2,1,2,2,1,2,2,1,2,1,1,2,2,1,1,2,1,2,2,1,2,1,1,2,1,2,1,1,2,1,1,2,1,2,2,1,1,2,2,1,2,1,1,2,1,2,1,2,2,1,2,2,1,2,2,1,2,1,2,1,1,2,1,2,1,1,2,2,1,2,1,1,2,2,1,1,2,2,1,1,2,1,2,2,1,1,2,2,1,2,1,2,1,1,2,2,1,1,2],empty:[0,0,0,2,0,2,0,0,0,0,2,0,1,0,0,0,0,0,0,1,0,0,0,1,0,0,1,1,0,0,0,0,0,0,2,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,2,0,0,1,1,2,0,0,0,2,0,2,2,0,2,0,1,0,0,2,0,0,0,0,0,0,0,2,0,0,0,2,0,1,0,1,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,1,0,2,0,0,1,0,0,2,0,0,0,0,2,2,0,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,0,0,1,1,0,0,1,0,0],quality:73,ms:494},{size:12,full:[2,2,1,1,2,2,1,1,2,2,1,1,1,1,2,2,1,1,2,2,1,2,2,1,2,2,1,2,1,1,2,1,2,1,1,2,1,2,1,1,2,2,1,1,2,1,2,2,2,1,2,2,1,1,2,2,1,2,1,1,1,2,2,1,2,1,1,2,1,1,2,2,1,2,1,2,1,2,2,1,2,1,1,2,2,1,1,2,2,1,1,2,1,2,2,1,2,1,2,1,1,2,2,1,1,2,1,2,1,2,1,2,1,2,1,2,2,1,2,1,2,1,2,1,2,1,2,1,1,2,1,2,1,1,2,1,2,2,1,2,2,1,2,1],empty:[0,2,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,2,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,2,0,0,1,1,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,1,1,0,1,1,0,0,0,2,1,2,0,2,0,0,0,1,0,0,0,0,0,2,0,0,0,0,1,0,2,0,2,0,0,0,1,0,0,1,0,2,0,0,0,0,1,0,1,2,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,1,2,0,0,0,0,2,0,0,2,2,0,0,0],quality:70,ms:534},{size:12,full:[2,2,1,1,2,1,1,2,2,1,2,1,1,2,1,2,2,1,1,2,1,2,1,2,2,1,2,1,1,2,2,1,2,1,1,2,1,1,2,2,1,2,2,1,2,1,2,1,1,2,1,2,2,1,1,2,1,2,2,1,2,1,2,1,2,1,2,1,1,2,1,2,1,2,1,2,1,2,1,2,2,1,2,1,2,1,1,2,1,1,2,2,1,2,2,1,1,2,2,1,2,2,1,1,2,1,1,2,2,1,1,2,1,1,2,2,1,2,1,2,1,2,2,1,2,2,1,1,2,1,2,1,2,1,2,1,1,2,2,1,1,2,1,2],empty:[0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,2,0,0,0,0,0,0,2,0,0,2,0,0,0,2,0,0,1,0,2,0,0,2,2,0,0,2,0,0,0,0,0,1,0,0,0,0,1,1,2,1,2,0,1,0,0,0,0,0,1,2,0,1,0,0,0,0,2,1,0,0,0,0,2,2,0,0,1,2,1,0,2,0,0,2,2,0,2,2,1,0,2,0,0,0,2,0,0,0,0,1,0,0,0,0,0,0,0,2,2,0,2,0,0,1,0,0,1,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,1,1,0,0,0],quality:68,ms:548},{size:12,full:[2,1,2,2,1,1,2,1,2,1,2,1,1,2,1,2,1,2,1,1,2,2,1,2,1,1,2,1,2,2,1,2,1,1,2,2,2,1,2,1,2,1,2,2,1,2,1,1,2,2,1,2,1,2,1,1,2,1,2,1,1,1,2,1,2,2,1,1,2,1,2,2,2,1,1,2,2,1,2,2,1,2,1,1,1,2,1,2,1,1,2,2,1,1,2,2,1,2,2,1,1,2,1,1,2,2,1,2,2,1,1,2,2,1,2,1,2,1,2,1,1,2,2,1,1,2,1,2,1,2,1,2,2,2,1,1,2,1,2,2,1,2,1,1],empty:[0,0,0,0,1,1,0,0,2,1,0,0,0,0,0,0,0,0,1,0,0,2,0,2,0,0,2,1,0,0,0,0,1,0,0,2,0,1,0,1,0,0,0,0,0,0,0,0,2,0,0,0,0,0,1,0,2,0,2,0,0,0,2,0,2,0,0,0,0,0,2,0,0,1,0,0,2,1,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,2,0,0,0,0,1,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,1,0,0,0,1,2,0,0,1,0,0,1,0,0,0,0,0,0],quality:74,ms:706}]};this.has=function(e){var t="fixedLevelSize"+e;return alreadyServed=+Storage.getDataValue(t,0),pool=i["size"+e],!!(pool&&alreadyServed<pool.length)},this.get=function(e){var t="fixedLevelSize"+e;if(alreadyServed=+Storage.getDataValue(t,0),pool=i["size"+e],Game.debug&&console.log("retrieving fixed level "+e+", ",alreadyServed),pool&&alreadyServed<pool.length){var n=pool[alreadyServed];return Storage.setDataValue(t,alreadyServed+1),n}return null}},Store=new function(){var t=!1,n=!1,i="0hh1_supporter",a=void 0;function e(){APP_BRIDGE.Store.registerProduct(i)}function o(){n&&console.log("STORE IS READY"),t=!0,function(){if(!t)return;APP_BRIDGE.Store.registerProductHandlers({productId:i,owned:function(e){n&&console.log("FULL VERSION OWNED, UNLOCKING "+JSON.stringify(e)),Game.enableDonatedState(),r()},approved:function(e){n&&console.log("FULL VERSION APPROVED, UNLOCKING "+JSON.stringify(e)),e.finish(),a&&Game.purchaseReceived(),r()},cancelled:function(e){n&&console.log("FULL VERSION CANCELLED "+JSON.stringify(e)),r()},error:function(e){n&&console.log("FULL VERSION ERROR "+JSON.stringify(e)),r()}})}(),Game.fullVersion||s(!1)}function r(){setTimeout(function(){a=void 0},300)}function s(e){t&&(Game.fullVersion||(n&&console.log("RESTORE PURCHASE?"),APP_BRIDGE.Store.restorePurchase(i,function(){n&&console.log("RESTORING PURCHASE BY TRANSACTION, MANUALLY="+e),e?Game.purchaseReceived():Game.enableDonatedState()},function(){n&&console.log("FAILED RESTORE PURCHASE, MANUALLY="+e)})))}this.init=function(){APP_BRIDGE.Store.init(e,o)},this.buyFullVersion=function(){t&&(n&&console.log("BUY FULL VERSION"),a=i,APP_BRIDGE.Store.purchaseProduct(i))},this.restorePurchases=s,this.__defineGetter__("enabled",function(){return t})},BackgroundService=new function(){var t=!!window.Worker,n=window.URL||window.webkitURL,i=!(!window.Blob||!n),a=null;function o(){var e,t;i?(Game.debug&&console.log("Web worker created on the fly"),e=[Utility,State,Grid,Tile,generateGridAndSolution,"var HintType = "+JSON.stringify(HintType)+";var Directions = {Left: 'Left',Right: 'Right',Up: 'Up',Down: 'Down'};","\nvar Utils = new Utility();","\nfunction Hint() { this.active = false; }","self.onmessage = function(e) {generateGridAndSolution(e.data.size)};"].join(""),t=new Blob([e],{type:"text/javascript"}),a=new Worker(n.createObjectURL(t))):(a=new Worker("js/webworker.js"),Game.debug&&console.log("Web worker created statically")),a.onmessage=function(e){!function(e){Game.debug&&console.log("generated puzzle",e);Levels.addSize(e.size,e)}(JSON.parse(e.data))}}function r(e){t&&(a||o(),a.postMessage({size:e}))}Game.debug&&console.log("BackgroundService:",t),this.generatePuzzle=r,this.kick=function(){var e=Levels.needs();if(e){if(window.FixedLevels&&FixedLevels.has(e)){var t=FixedLevels.get(e);if(t)return void Levels.addSize(t.size,t)}r(e)}},this.__defineGetter__("enabled",function(){return t})},Storage=new function(){var o=Config.id,h={q:42,size4played:0,size6played:0,size8played:0,size10played:0,size12played:0,gamesPlayed:0,bestTimeSize4:240,bestTimeSize6:360,bestTimeSize8:480,bestTimeSize10:600,bestTimeSize12:720,gamesQuitted:0,autoSignIn:!0,showTimeTrial:!1,achievementsUnlocked:{},achievementsNotSent:{},theme:1,hideHintIcon:!1};function c(){t(o,JSON.stringify(h))}function e(e,t){var n;$.browser.chromeWebStore?chrome.storage.local.get(e,t):((n={})[e]=localStorage.getItem((Config.storagePrefix||"")+e),t(n))}function t(e,t,n){var i;$.browser.chromeWebStore?((i={})[e]=t,chrome.storage.local.set(i,n)):(localStorage.setItem((Config.storagePrefix||"")+e,t),n&&n())}$(function(){var a=JSON.parse(JSON.stringify(h));e(o,function(e){var t,n,i=!1;e&&e[o]&&(t=e[o],(n=JSON.parse(t))&&42==n.q&&(h=n,i=!0,function(e){var t,n=!1;for(t in e)void 0===h[t]&&(h[t]=e[t],n=!0,Game.debug&&console.log("upgraded from template",t,e[t]));n&&c()}(a))),i||Game.getScore(function(e){!(0<e&&h)||h.size4played||h.size6played||h.size8played||h.size10played||function(e){var t=e;for(;16<=t;)for(var n=10;4<=n;n-=2){var i=n*n;i<=t&&(t-=i,h["size"+n+"played"]++,h.gamesPlayed++)}c()}(e)})})}),this.getItem=e,this.setItem=t,this.clear=function(e){$.browser.chromeWebStore?chrome.storage.local.clear(e):(localStorage.clear(),e&&e())},this.levelCompleted=function(e,t,n,i,a,o){if(Game.debug&&console.log("levelCompleted",e,t,n,i,a,o),Game.debug&&console.log("data",h),!(!e||e<4||12<e)&&n&&!isNaN(n))if(i)PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.apprentice);else{if(h.gamesPlayed++,0<t&&PlayCenter.submitScore(PlayCenter.IDS.Leaderboards.score,t),PlayCenter.submitScore(PlayCenter.IDS.Leaderboards.games_played,h.gamesPlayed),4==e&&(h.size4played++,PlayCenter.submitScore(PlayCenter.IDS.Leaderboards._4_x_4_played,h.size4played),a||PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.no_questions_asked_4_x_4),o||PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.forward_4_x_4)),6==e&&(h.size6played++,PlayCenter.submitScore(PlayCenter.IDS.Leaderboards._6_x_6_played,h.size6played),a||PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.no_questions_asked_6_x_6),o||PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.forward_6_x_6)),8==e&&(h.size8played++,PlayCenter.submitScore(PlayCenter.IDS.Leaderboards._8_x_8_played,h.size8played),a||PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.no_questions_asked_8_x_8),o||PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.forward_8_x_8)),10==e&&(h.size10played++,PlayCenter.submitScore(PlayCenter.IDS.Leaderboards._10_x_10_played,h.size10played),a||PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.no_questions_asked_10_x_10),o||PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.forward_10_x_10)),12==e&&(h.size12played++,PlayCenter.submitScore(PlayCenter.IDS.Leaderboards._12_x_12_played,h.size12played),a||PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.no_questions_asked_12_x_12),o||PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.forward_12_x_12)),10<=h.gamesPlayed&&PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.ten),42<=h.gamesPlayed&&PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.q42),100<=h.gamesPlayed&&PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.hundred),1e3<=h.gamesPlayed&&PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.thousand),25e3<=h.gamesPlayed&&PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.jennifer),1<=h["size"+e+"played"]){for(var r=!0,s=4;s<=10;s+=2){s!=e&&(1<=h["size"+s+"played"]||(r=!1))}r&&PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.allfour)}10<=h["size"+e+"played"]&&(4==e&&PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements._160_dots),6==e&&PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements._360_dots),8==e&&PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements._640_dots),10==e&&PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements._1000_dots),12==e&&PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements._1440_dots));var l,u=1e3*n;0<n&&(PlayCenter.submitScore(PlayCenter.IDS.Leaderboards.best_time,u),4==e&&PlayCenter.submitScore(PlayCenter.IDS.Leaderboards.best_time_4_x_4,u),6==e&&PlayCenter.submitScore(PlayCenter.IDS.Leaderboards.best_time_6_x_6,u),8==e&&PlayCenter.submitScore(PlayCenter.IDS.Leaderboards.best_time_8_x_8,u),10==e&&PlayCenter.submitScore(PlayCenter.IDS.Leaderboards.best_time_10_x_10,u),12==e&&PlayCenter.submitScore(PlayCenter.IDS.Leaderboards.best_time_12_x_12,u),l=h["bestTimeSize"+e],!isNaN(l)&&n<l&&(h["bestTimeSize"+e]=n)),Game.debug&&console.log(h),c()}},this.gameQuitted=function(){h.gamesQuitted++,c(),10==h.gamesQuitted&&PlayCenter.unlockAchievement(PlayCenter.IDS.Achievements.quitter)},this.setDataValue=function(e,t){h[e]=t,c()},this.getDataValue=function(e,t){return void 0===h[e]?null!=t&&t:h[e]},this.achievementUnlocked=function(e){h.achievementsUnlocked[e]||(Game.debug&&console.log("achievement unlocked: "+e),h.achievementsUnlocked[e]=!0,h.achievementsNotSent[e]=!0,c())},this.achievementSent=function(e){h.achievementsUnlocked[e]&&h.achievementsNotSent[e]&&(delete h.achievementsNotSent[e],c())},this.saveLocalDataValue=function(e,t){void 0!==h[e]&&(h[e]=t,c())},this.__defineGetter__("data",function(){return h})},PlayCenter=new function(){this.IDS={Leaderboards:{},Achievements:{}},this.autoSignIn=function(e){},this.signIn=function(e,t){},this.signOut=function(e){},this.submitScore=function(e,t){},this.showLeaderboard=function(e){},this.unlockAchievement=function(e){},this.showAchievements=function(){},this.resetAchievements=function(){},this.__defineGetter__("enabled",function(){return!1}),this.__defineGetter__("isSignedIn",function(){return!1})};function generateGridAndSolution(e){var t=new Date,n=new Grid(e);n.generateFast();var i={};i.size=e,i.full=n.getValues();for(var a={4:60,6:60,8:60,10:60},o=0;0<o&&(n.clear(),n.state.restore("full")),n.breakDown(),n.quality<a[e]&&o++<42;);n.getValues();i.empty=n.getValues(),i.quality=n.quality,i.ms=new Date-t,self.postMessage(JSON.stringify(i))}var Analytics,Themes=new function(){var t,u,h,n,c=2*Math.PI,d=0,f=null,g=[],p=0,m={width:0,height:0},i=!1,a=0,o=!1,r={1:"0hn0",2:"0hh1",3:"contranoid",4:"highcontrast",5:"ukraine"};function s(){i&&(i=!0,a=requestAnimFrame(s),cycleTime=new Date,e())}function e(){if(!(cycleTime<d)){var e=Utils.between(-p,p,4),t=Utils.between(-p,p,4),n=Utils.between(29,31)/100;u.style.webkitTransform="translate3d("+e+"px, "+t+"px, 0)",u.style.transform="translate3d("+e+"px, "+t+"px, 0)",h.style.opacity=n,d=new Date((new Date).getTime()+50);for(var i=0;i<g.length;i++){var a=g[i];f.clearRect(a[0],a[1],a[2]-a[0],a[3]-a[1])}g=[];var o=Utils.between(1,5);f.fillStyle="rgba(0,0,0,0.3)";for(i=0;i<o;i++){e=Utils.between(0,m.width),t=Utils.between(0,m.height);f.beginPath(),f.arc(e,t,Utils.between(.1,3,2),0,c,!0),f.fill(),g.push([e-4,t-4,e+4,t+4])}var r=Utils.between(1,5);f.lineWidth=.2,f.strokeStyle="rgba(0,0,0,0.7)";for(i=0;i<r;i++){e=Utils.between(0,m.width);t=Utils.between(0,m.height),dy=Utils.between(-m.height/2,m.height,2),f.beginPath(),f.moveTo(e,t),f.lineTo(e,t+dy),f.stroke();var s=0<=dy?t:t+dy,l=0<=dy?t+dy:t;g.push([e-1,s-1,e+1,l+1])}}}function l(){var e=!0;r[t]||(e=!(t=1)),3==t?(i=!0,s()):(i=!1,cancelAnimFrame&&cancelAnimFrame(a),u.style.webkitTransform="none",u.style.transform="none"),o&&r[t]&&(document.location.hash=r[t]),$("html").removeClass("theme1 theme2 theme3 theme4 theme5").addClass("theme"+t),e&&Storage.setDataValue("theme",t),Game.resize()}this.init=function(){for(var e in $("#container").append('<canvas id="scratch-canvas"/>'),n=$("#scratch-canvas")[0],f=n.getContext("2d"),u=$("#gameContainer")[0],h=$("#grain")[0],t=Storage.getDataValue("theme",1),r)document.location.hash=="#"+r[e]&&(t=e,o=!0);Storage.setDataValue("theme",t),l(),window.Promo&&Promo.addListener(function(e){e&&!1===e.theme5?(delete r[5],5==t&&(t=1,l())):e&&!0===e.theme5&&(Storage.getDataValue("forcedThemeFiveOnce",!1)||(Storage.setDataValue("forcedThemeFiveOnce",!0),t=5,l()))})},this.cycle=s,this.grain=e,this.resize=function(e,t){m.width=e,m.height=t,n.width=e,n.height=t,p=.5/320*e},this.toggle=function(){t=Storage.getDataValue("theme",1),++t>Object.keys(r).length&&(t=1),l()},this.__defineGetter__("theme",function(){return t}),this.__defineGetter__("languageReplacements",function(){if(5===t)switch(Language.current){case"en":return{red:"yellow"};case"nl":case"nl-max":case"nl-nrc":case"nl-puzzeltijd":return{rood:"geel"};case"es":return{rojo:"amarillo"}}})},Links=new function(){$(function(){var e,t=/android/.test(navigator.userAgent.toLowerCase()),n=/ipad|iphone|ipod/.test(navigator.userAgent.toLowerCase());for(e in o){var i=$("#game_link_"+e),a=o[e].web;n&&(a=o[e].ios),t&&(a=o[e].android),i.attr("href",a)}});var o={quento:{ios:"https://itunes.apple.com/us/app/quento/id583954698?mt=8",android:"https://play.google.com/store/apps/details?id=nl.q42.quento&hl=en",web:"http://quento.com"},numolition:{ios:"https://itunes.apple.com/us/app/numolition/id824164747?mt=8",android:"https://play.google.com/store/apps/details?id=com.q42.numolition",web:"http://numolition.com"},"0hn0":{ios:"https://itunes.apple.com/us/app/0h-n0/id957191082?mt=8",android:"https://play.google.com/store/apps/details?id=com.q42.ohno",web:"http://0hn0.com"},contranoid:{ios:"https://itunes.apple.com/us/app/contranoid/id1027717534?mt=8",android:"https://play.google.com/store/apps/details?id=com.q42.contranoid",web:"http://contranoid.com"},"0hh1":{ios:"https://itunes.apple.com/us/app/0h-h1/id936504196?mt=8",android:"https://play.google.com/store/apps/details?id=com.q42.ohhi",web:"http://0hh1.com"},flippybit:{ios:"https://itunes.apple.com/us/app/flippy-bit-attack-hexadecimals/id853100169?mt=8",android:"https://play.google.com/store/apps/details?id=com.q42.flippybitandtheattackofthehexadecimalsfrombase16&hl=en",web:"http://flippybitandtheattackofthehexadecimalsfrombase16.com"}}},Language=new function(){var n={en:1,nl:1,es:1,kr:1},r=window.Config&&Config.defaultLanguage?Config.defaultLanguage:"en",s=r,l={};function i(){var e=s.toUpperCase();$("#toggleLanguage").html(e);var a=l[s];a&&($("text").each(function(e,t){var n=$(t),i=n.attr("data-text-id");i||(i=n.html(),n.attr("data-text-id",i)),translation="en"==s?i:a[i],n.html(translation)}),Game.refreshGameAfterLanguageChange())}$(function(){var e=Storage.getDataValue("language");e&&n[e]?(s=e,i()):(Config.skipGeoIP||$.getJSON("https://geoip.nekudo.com/api/",function(e){var t;Game.debug&&console.log("succes",e),e&&e.country&&e.country.code&&(t=e.country.code.toLowerCase(),n[t]||(t=r),Storage.setDataValue("language",t),s=t,i())}),setTimeout(i,100))}),this.add=function(e,t){l[e]=t},this.refresh=i,this.get=function(e){var t=l[s];if(!(t=t||l[r]))return e;if("string"==typeof(o=t[e]||e)&&Themes.languageReplacements)for(var n in Themes.languageReplacements)var i=new RegExp("\\b"+n+"\\b","gi"),a=Themes.languageReplacements[n],o=o.replace(i,a);return o},this.toggle=function(){for(var e=Object.keys(l),t=0,n=0;n<e.length;n++)if(e[n]==s){t=n;break}++t>=e.length&&(t=0),s=e[t],Storage.setDataValue("language",s),i()},this.__defineGetter__("current",function(){return s})};Language.add("en",{weekDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ojoos:["Wonderful","Spectacular","Marvelous","Outstanding","Remarkable","Shazam","Impressive","Great","Well done","Fabulous","Clever","Dazzling","Fantastic","Excellent","Nice","Super","Awesome","Ojoo","Brilliant","Splendid","Exceptional","Magnificent","Yay"],t01:"We're going to fill the grid.<br>Tap the tile to make it red.",t02:"Excellent!<br>Tap twice to turn a tile blue.",t03:"Three red tiles next to each other in a row isn't allowed.",t04:"Never have three blue tiles together in a row either.",t05:"Three red or blue tiles below each other is invalid too!",t06:"A full row must have as many red tiles as it has blue ones.",t07:"Columns have an equal number of each color too.",t08:"You should be able to know what color this one is...",t09:"No two rows and no two columns are the same.",t10:"If you get stuck, tap the eye to peek.",RowsMustBeUnique:"No two rows are the same.",ColsMustBeUnique:"No two columns are the same.",RowMustBeBalanced:"Rows have an equal number of each color.",ColMustBeBalanced:"Columns have an equal number of each color.",MaxTwoRed:"Three red tiles aren't allowed next to each other.",MaxTwoBlue:"Three blue tiles aren't allowed next to each other.",SinglePossibleRowCombo:"Only one combination is possible here.",SinglePossibleColCombo:"Only one combination is possible here.",Error:"This one doesn't seem right.",Errors:"These don't seem right.",GameContinued:"You can now continue with your previous game...",TimeTrialShown:'Elapsed time is now shown. <br>Time to beat: %s <span id="nextdot"></span>',signInFailedIOS:"<p>Signing in with Game Center didn't work.</p><p>Please check your internet connection.</p><p>If this problem persists, open the Settings app, go to Game Center and sign in there.</p><p>If that doesn't work, give up and go play 0h n0 :)</p>",signInFailedAndroid:"<p>Signing in with Google Play Game Services didn't work.</p><p>Please check your internet connection.</p><p>If this problem persists, try again later or give up and go play 0h n0 :)</p>",shareMessage:" I played $gamesPlayed games of 0h h1 \n It's fun, free and has no ads.",copiedToClipboard:"Copied to clipboard!"}),Language.add("nl",{weekDays:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],ojoos:["Goed","Netjes","Knap","Fantastisch","Geweldig","Super","Slim","Briljant"],t01:"We gaan het hele bord vullen.<br>Tap om het vak rood te maken.",t02:"Perfect!<br>Tap twee keer voor blauw.",t03:"Drie rode vakjes naast elkaar mag niet.",t04:"En drie blauwe vakjes<br> naast elkaar ook niet.",t05:"Drie rode of blauwe vakjes onder elkaar mag ook niet.",t06:"Elke rij heeft evenveel<br> rode als blauwe vakjes.",t07:"Elke kolom heeft ook evenveel rode als blauwe vakjes.",t08:"Jij weet nu welke kleur dit vakje moet krijgen...",t09:"Oh ja, elke rij en elke kolom moet uniek zijn!",t10:"En mocht je vast zitten,<br> tap dan op het oogje...","Three adjacent tiles of the same color in a row or column isn't allowed.":"Drie blauwe of rode vakjes naast of onder elkaar mag niet.","Rows and columns have an equal number of each color.":"Elke rij en kolom heeft evenveel rode als blauwe vakjes.","No two rows and no two columns are the same.":"Elke rij en kolom is uniek.",RowsMustBeUnique:"Elke rij is uniek.",ColsMustBeUnique:"Elke kolom is uniek.",RowMustBeBalanced:"Elke rij heeft evenveel rode<br> als blauwe vakjes.",ColMustBeBalanced:"Elke kolom heeft evenveel rode<br> als blauwe vakjes.",MaxTwoRed:"Drie rode vakjes naast of onder elkaar mag niet.",MaxTwoBlue:"Drie blauwe vakjes naast of onder elkaar mag niet.",SinglePossibleRowCombo:"Hier is maar n combinatie mogelijk.",SinglePossibleColCombo:"Hier is maar n combinatie mogelijk.",Error:"Deze lijkt niet te kloppen.",Errors:"Deze lijken niet te kloppen.",GameContinued:"Je kunt nu verder spelen<br> met je vorige spelbord...",TimeTrialShown:'Verstreken tijd wordt getoond.<br>Beste tijd: %s <span id="nextdot"></span>',shareMsg:"#0hn0 shareMsg!",signInFailedIOS:"Inloggen niet gelukt!",signInFailedAndroid:"Inloggen niet gelukt!","A little logic game":"Een klein logisch spelletje","By Q42":"Van Q42","Created by Martin Kool":"Gemaakt door Martin Kool","How to play":"Uitleg",Play:"Spelen","Free play":"Vrij spelen","Select a size":"Vrij spelen",New:"Nieuw",Thanks:"Bedankt",About:"Over","0h h1 is a little logic game<br>by Q42. It was created by<br>Martin Kool.":"0h h1 is een denkspelletje<br> van Q42, gemaakt door<br> Martin Kool.","The concept is also known<br>as Takuzu or Binary Sudoku.":"Het is ook wel bekend als<br>Takuzu of Binair Sudoku.","Q42.nl":"Q42.com",Rules:"Regels","Thank you for supporting<br> 0h h1":"Bedankt dat je<br> 0h h1 support","Please feel free to leave me a message about the game anytime":"Laat gerust een keer wat van je horen",Apps:"Apps","The 0h h1 app is also free":"De 0h h1 app is ook gratis",Games:"Spellen","Enjoy our other games too":"Speel ook onze andere spellen","This is a message":"Dit is een bericht",Loading:"Momentje","Select a size to play...":"Welk formaat wil je spelen?","if 0h h1 is worth a $":"als 0h h1 een  waard is","tap here":"tap hier","You are currently signed in":"Je bent ingelogd","Sign out":"Uitloggen","Sign in to unlock fun achievements, earn experience points and compete with friends in leaderboards":"Log in om leuke achievements te behalen, XP te verdienen en te strijden tegen je vrienden in de ranglijsten","Sign in":"Inloggen",Settings:"Instellingen","Show elapsed time":"Toon verstreken tijd","Show hint icon":"Toon hint icoon","Color theme":"Kleurthema","0h h1 is worth a $":"0h h1 is een  waard",No:"Nee",Yes:"Ja",Language:"Taal","Q42.com":"Q42.nl","Fast intro":"Snelle intro","That's the undo button.":"Dat is de undo knop.","Nothing to undo.":"Geen undo mogelijk.","This tile was reversed to ":"Deze stip is teruggezet naar ","blue.":"blauw.","red.":"rood.","its empty state.":"een leeg vakje.","Today's puzzles":"Puzzels van vandaag",Played:"Gespeeld",Share:"Deel",Continue:"Verder","Or consider a small one time":"Of steun ons met een kleine",donation:"donatie","If you  0h h1, sharing with friends really helps us grow!":"Als je  van 0h h1, deel het met vrienden, dat helpt ons!",shareMessage:" Ik heb $gamesPlayed  0h h1 gespeeld \n Het is leuk en volledig gratis!",copiedToClipboard:"Het bericht is gekopierd naar je klembord."}),Language.add("es",{weekDays:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],ojoos:["Maravilloso","Espectacular","Maravilloso","Excepcional","Formidable","Tachn","Impresionante","Genial","Bien hecho","Fabuloso","Ingenioso","Deslumbrante","Fantstico","Excelente","super","Impresionante","Ole","Brillante","Esplndido","Excepcional","Magnfico","Hurra"],t01:"Vamos a rellenar el tablero. Pulsa una casilla para ponerla en rojo.",t02:"Excelente! Pulsa dos veces para poner una casilla en azul.",t03:"No se pueden poner tres casillas rojas juntas en una fila.",t04:"Tampoco se pueden poner tres casillas azules juntas en una fila.",t05:"Tampoco vale poner tres casillas rojas o azules juntas en una columna!",t06:"Una fila completa debe tener tantas casillas azules como rojas.",t07:"Las columnas tambin tienen la misma cantidad de cada color.",t08:"Seguro que sabes de qu color es esta...",t09:"No hay dos filas o dos columnas iguales.",t10:"Si te quedas atrancado, pulsa el ojo para echar un vistazo.","Three adjacent tiles of the same color in a row or column isn't allowed.":"No se permiten tres casillas del mismo color juntas en una fila o columna.","Rows and columns have an equal number of each color.":"Las filas y las columnas tienen la misma cantidad de cada color.","No two rows and no two columns are the same.":"No hay dos filas o dos columnas iguales.",RowsMustBeUnique:"No hay dos filas iguales.",ColsMustBeUnique:"No hay dos columnas iguales.",RowMustBeBalanced:"Las filas tienen la misma cantidad de cada color.",ColMustBeBalanced:"Las columnas tienen la misma cantidad de cada color.",MaxTwoRed:"No se permiten tres casillas rojas juntas.",MaxTwoBlue:"No se permiten tres casillas azules juntas.",SinglePossibleRowCombo:"Aqu slo hay una combinacin posible.",SinglePossibleColCombo:"Aqu slo hay una combinacin posible.",Error:"Esta no parece correcta.",Errors:"Estas no parecen correctas.",GameContinued:"Puedes continuar con tu anterior partida....",TimeTrialShown:'Ahora se muestra el tiempo transcurrido. El record a batir: %s <span id="nextdot"></span>',shareMsg:"#0hn0 shareMsg",signInFailedIOS:"signin failed",signInFailedAndroid:"signin failed","A little logic game":"Un pequeo juego lgico.","By Q42":"Por Q42","Created by Martin Kool":"Creado por Martin Kool","How to play":"Como se juega",Play:"Jugar","Free play":"Juego libre","Select a size":"Elegir un tamao",New:"Nuevo",Thanks:"Gracias",About:"Acerca","0h h1 is a little logic game<br>by Q42. It was created by<br>Martin Kool.":"0h h1 es un pequeo juego lgico hecho por Q42. Creado por Martin Kool.","The concept is also known<br>as Takuzu or Binary Sudoku.":"El concepto tambin se conoce como Takuzu o Sudoku Binario.","Q42.nl":"Q42.com",Rules:"Reglas","Thank you for supporting<br> 0h h1":"Gracias por apoyar 0h h1","Please feel free to leave me a message about the game anytime":"Los mensajes sobre el juego son bienvenidos.",Apps:"Aplicaciones","The 0h h1 app is also free":"La aplicacin de 0h h1 tambin es gratis",Games:"Juegos","Enjoy our other games too":"Disfruta de nuestros otros juegos","This is a message":"Esto es un mensaje",Loading:"Cargando","Select a size to play...":"Elige un tamao para jugar...","if 0h h1 is worth a $":"Si 0h h1 vale un $","tap here":"Pulsa aqu","You are currently signed in":"Has iniciado sesin","Sign out":"Cerrar la sesin","Sign in to unlock fun achievements, earn experience points and compete with friends in leaderboards":"Inicia sesin para desbloquear logros divertidos, ganar puntos de experiencia y competir con amigos en las tablas de clasificacin","Sign in":"Iniciar sesin",Settings:"Opciones","Show elapsed time":"Mostrar tiempo transcurrido","Show hint icon":"Mostrar el indicador de pistas","Color theme":"Tema de colores","0h h1 is worth a $":"0h h1 vale un $",No:"No",Yes:"Si",Language:"Lenguaje","Q42.com":"Q42.com","Fast intro":"Introduccin rpida","That's the undo button.":"Ese es el botn para deshacer.","Nothing to undo.":"Nada para deshacer.","This tile was reversed to ":"La casilla fue revertida a","blue.":"azul.","red.":"rojo.","its empty state.":"su estado vaco.","Today's puzzles":"Puzzles del da",Played:"Jug",Share:"Compartir",Continue:"Continuar","Or consider a small one time":"O considere una pequea",donation:"donacin","If you  0h h1, sharing with friends really helps us grow!":"Si  0h h1, compartir con amigos realmente nos ayuda a crecer!",shareMessage:" Jugu $gamesPlayed partidas de 0h h1 \n Es divertido y gratis!",copiedToClipboard:"El mensaje fue copiado a su portapapeles."}),Language.add("kr",{weekDays:["","","","","","",""],ojoos:["",""," ","","","","",""],t01:"    .    .",t02:" !     .",t03:"    3   .",t04:"      .",t05:"     3   .",t06:"      .",t07:"       .",t08:"        ...",t09:" ,     .",t10:"  ,  .","Three adjacent tiles of the same color in a row or column isn't allowed.":"          .","Rows and columns have an equal number of each color.":"        .","No two rows and no two columns are the same.":"   .",RowsMustBeUnique:"  .",ColsMustBeUnique:"  .",RowMustBeBalanced:"      .",ColMustBeBalanced:"       .",MaxTwoRed:"     3   .",MaxTwoBlue:"     3   .",SinglePossibleRowCombo:"   .",SinglePossibleColCombo:"   .",Error:"    .",Errors:"    .",GameContinued:"       .",TimeTrialShown:'  .   %s <span id="nextdot"></span>',shareMsg:"shareMsg",signInFailedIOS:" .",signInFailedAndroid:" .","A little logic game":"  ","By Q42":"Q42","Created by Martin Kool":"Martin Kool ","How to play":"",Play:"","Free play":" ","Select a size":" ",New:"",Thanks:".",About:"","0h h1 is a little logic game<br>by Q42. It was created by<br>Martin Kool.":"0h h1 Martin Kool  Q42  .","The concept is also known<br>as Takuzu or Binary Sudoku.":"Takuzu  Binary Sudoku.","Q42.nl":"Q42.nl",Rules:"","Thank you for supporting<br> 0h h1":"0h h1   .","Please feel free to leave me a message about the game anytime":" ",Apps:" ","The 0h h1 app is also free":"0h h1  .",Games:"","Enjoy our other games too":"  .","This is a message":" .",Loading:" ","Select a size to play...":"   ?","if 0h h1 is worth a $":"0h h1   ","tap here":" .","You are currently signed in":".","Sign out":" ","Sign in to unlock fun achievements, earn experience points and compete with friends in leaderboards":"    XP    .","Sign in":"",Settings:"","Show elapsed time":"  ","Show hint icon":"  ","Color theme":" ","0h h1 is worth a $":"0h h1  .",No:".",Yes:"",Language:"","Q42.com":"Q42.com","Fast intro":" ","That's the undo button.":"   .","Nothing to undo.":"  ","This tile was reversed to ":"  .","blue.":"","red.":"","its empty state.":" ","Today's puzzles":" "}),window.Config&&!1===Config.GoogleAnalytics||(function(e,t,n,i,a){e.GoogleAnalyticsObject=n,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=+new Date,i=t.createElement("script"),a=t.getElementsByTagName("script")[0],i.async=1,i.src="js/analytics.js",a.parentNode.insertBefore(i,a)}(window,document,"ga"),Analytics={init:function(){var e=Storage.getDataValue("uuid",null);e||(e=generateUUID(),Storage.setDataValue("uuid",e));var t=Config.GoogleAnalytics;ga("create",t,{storage:"none",clientId:e}),ga("set","checkProtocolTask",null),ga("set","checkStorageTask",null),ga("set","anonymizeIp",!0),ga("send","pageview",{page:"/"})}});var Promo=new function(){var t="https://us-central1-duomoji.cloudfunctions.net/ohstatus?id="+Config.gameID,u=void 0,h=[];this.init=function(){var e;Config.gameID&&(document.querySelector("body").setAttribute("data-game-id",Config.gameID),(e=new XMLHttpRequest).onreadystatechange=function(){if(4==this.readyState)try{var e=JSON.parse(this.responseText);e&&function(e){e&&e.blob&&(e=JSON.parse(atob(e.blob)));var t=Storage.getDataValue("donated",!1);if(e.skipWhenDonated&&t)return;for(var n=0;n<e.html.length;n++){var i=e.html[n];if(i.selector){var a=document.querySelectorAll(i.selector);if(a&&a.length)for(var o=0;o<a.length;o++)if(i.replace)a[o].innerHTML=i.replace;else if(i.append){var r=document.createElement("div");r.innerHTML=i.append;for(var s=0;s<r.childNodes.length;s++)a[o].appendChild(r.childNodes[s].cloneNode(!0))}}}{var l;e.css&&((l=document.createElement("style")).innerHTML=e.css,document.querySelector("head").appendChild(l))}e.action&&(u=e.action);if(h.length)for(n=0;n<h.length;n++)h[n](e)}(e)}catch(e){}},e.open("GET",t,!0),e.send())},this.click=function(){u&&u.url&&(window.isWebApp?window.open(u.url,"_blank"):APP_BRIDGE.ExternalLink.open(u.url))},this.addListener=function(e){h.push(e)}},APP_BRIDGE=new function(){this.GooglePlayGames={authenticate:function(e,t){},signOut:function(e,t){},getPlayer:function(e,t){},submitScore:function(e,t,n,i){},showAllLeaderboards:function(e,t){},showAllLeaderboardId:function(e,t,n){},getLeaderboardScore:function(e,t,n){},unlockAchievement:function(e,t,n){},showAchievements:function(e,t){}},this.GameCenter={authenticate:function(e,t){},signOut:function(e,t){},submitScore:function(e,t,n,i){},showAllLeaderboards:function(e,t){},unlockAchievement:function(e,t,n){},showAchievements:function(e,t){}},this.Store={init:function(e,t){},registerProduct:function(e){},registerProductHandlers:function(e){},purchaseProduct:function(e){},restorePurchase:function(e,t,n){}},this.Sharing={share:function(e,t){document.body.focus(),navigator.clipboard.writeText(e);var n=Language.get("copiedToClipboard");setTimeout(function(){alert(n)},0)}},this.ExternalLink={open:function(e){}}};$(app.onDeviceReady);